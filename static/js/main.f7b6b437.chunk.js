(this["webpackJsonpmovies-explorer"]=this["webpackJsonpmovies-explorer"]||[]).push([[0],{26:function(e,t,s){},33:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),a=s(19),i=s.n(a),r=(s(26),s(3)),o=s(2),l=s(4),j=s(0);var u=function(){return Object(j.jsx)("section",{className:"promo",children:Object(j.jsx)("div",{className:"promo__cover",children:Object(j.jsx)("p",{className:"promo__text",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})})})};var d=function(){return Object(j.jsx)("section",{className:"techs",id:"techs",children:Object(j.jsxs)("div",{className:"techs__container",children:[Object(j.jsx)("h2",{className:"techs__heading",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(j.jsxs)("h3",{className:"techs__heading_big",children:["7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439",Object(j.jsx)("p",{className:"techs__text",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."})]}),Object(j.jsxs)("ul",{className:"techs__list",children:[Object(j.jsx)("li",{className:"techs__list-item",children:"HTML"}),Object(j.jsx)("li",{className:"techs__list-item",children:"CSS"}),Object(j.jsx)("li",{className:"techs__list-item",children:"JS"}),Object(j.jsx)("li",{className:"techs__list-item",children:"React"}),Object(j.jsx)("li",{className:"techs__list-item",children:"Git"}),Object(j.jsx)("li",{className:"techs__list-item",children:"Express.js"}),Object(j.jsx)("li",{className:"techs__list-item",children:"mongoDB"})]})]})})},m=s.p+"static/media/me.c1acb20f.jpg";var h=function(){return Object(j.jsxs)("div",{className:"aboutme",id:"student",children:[Object(j.jsx)("h2",{className:"aboutme__heading",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(j.jsxs)("div",{className:"aboutme__container",children:[Object(j.jsxs)("div",{className:"aboutme__text-elems-container",children:[Object(j.jsx)("p",{className:"aboutme__name",children:"\u041a\u043e\u043b\u044f"}),Object(j.jsx)("p",{className:"aboutme__shortinfo",children:"\u0427\u0435\u043b\u043e\u0432\u0435\u043a, 22 \u0433\u043e\u0434\u0430"}),Object(j.jsx)("article",{className:"aboutme__article",children:"\u0420\u043e\u0434\u0438\u043b\u0441\u044f \u0438 \u0436\u0438\u0432\u0443 \u0432 \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433\u0435. \u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0447\u0430\u043b \u043f\u043e\u0447\u0435\u043c\u0443? \u042d\u0442\u043e \u044f \u0435\u0449\u0435 \u043d\u0435 \u043d\u0430\u0447\u0430\u043b \u0434\u0430\u0436\u0435. \u041b\u044e\u0431\u043b\u044e \u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c, \u043f\u0435\u0442\u044c(\u044d\u0442\u043e \u0441\u0435\u043a\u0440\u0435\u0442), \u0442\u0430\u043d\u0446\u0435\u0432\u0430\u0442\u044c(\u0441\u0430\u043c\u044b\u0439 \u0441\u0442\u0440\u0430\u0448\u043d\u044b\u0439 \u0441\u0435\u043a\u0440\u0435\u0442), \u0438\u0433\u0440\u0430\u044e \u0432 \u0433\u043b\u044f\u0434\u0435\u043b\u043a\u0438 \u0441 \u0441\u043e\u043b\u043d\u0446\u0435\u043c."}),Object(j.jsxs)("div",{className:"aboutme__social",children:[Object(j.jsx)("a",{href:"https://vk.com/id340609519",className:"aboutme__link",children:"VK"}),Object(j.jsx)("a",{href:"https://github.com/newbiegoingpro",className:"aboutme__link",children:"Github"})]})]}),Object(j.jsx)("img",{className:"aboutme__photo",src:m,alt:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u0430\u0432\u0442\u043e\u0440\u0430"})]})]})};var b=function(){return Object(j.jsxs)("section",{className:"aboutProject",id:"project",children:[Object(j.jsx)("h2",{className:"aboutProject__heading",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(j.jsxs)("div",{className:"aboutProject__grid",children:[Object(j.jsx)("h3",{className:"aboutProject__grid__heading aboutProject__grid__heading_order-0",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(j.jsx)("h3",{className:"aboutProject__grid__heading aboutProject__grid__heading_order-2",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(j.jsx)("p",{className:"aboutProject__grid__text aboutProject__grid__text_order-1",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."}),Object(j.jsx)("p",{className:"aboutProject__grid__text aboutProject__grid__text_order-3",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]}),Object(j.jsxs)("div",{className:"aboutProject__grid_bottom",children:[Object(j.jsx)("div",{className:"aboutProject_green",children:Object(j.jsx)("span",{className:"aboutProject__grid__text_span",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"})}),Object(j.jsx)("div",{className:"aboutProject_grey",children:Object(j.jsx)("span",{className:"aboutProject__grid__text_span",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"})}),Object(j.jsx)("p",{className:"aboutProject__text-under",children:"Back-end"}),Object(j.jsx)("p",{className:"aboutProject__text-under",children:"Front-end"})]})]})};var _=function(){return Object(j.jsxs)("nav",{className:"navtab",children:[Object(j.jsx)("button",{className:"navtab__btn",children:Object(j.jsx)("a",{className:"navtab__link",href:"#project",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"})}),Object(j.jsx)("button",{className:"navtab__btn",children:Object(j.jsx)("a",{className:"navtab__link",href:"#techs",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"})}),Object(j.jsx)("button",{className:"navtab__btn",children:Object(j.jsx)("a",{className:"navtab__link",href:"#student",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"})})]})};var O=function(){return Object(j.jsxs)("section",{className:"portfolio",children:[Object(j.jsx)("h2",{className:"portfolio__heading",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(j.jsxs)("ul",{className:"portfolio__list",children:[Object(j.jsxs)("li",{className:"portfolio__list-item",children:[" ",Object(j.jsx)("a",{href:"https://github.com/newbiegoingpro/how-to-learn",className:"portfolio__link",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442 "}),Object(j.jsx)("span",{className:"portfolio__arrow",children:"\u2192"})]}),Object(j.jsxs)("li",{className:"portfolio__list-item",children:[" ",Object(j.jsx)("a",{href:"https://newbiegoingpro.github.io/russian-travel/",className:"portfolio__link",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442 "}),Object(j.jsx)("span",{className:"portfolio__arrow",children:"\u2192"})]}),Object(j.jsxs)("li",{className:"portfolio__list-item",children:["  ",Object(j.jsx)("a",{href:"https://newbiegoingpro.github.io/react-mesto-auth/#/",className:"portfolio__link",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 "}),Object(j.jsx)("span",{className:"portfolio__arrow",children:"\u2192"})]})]})]})};var p=function(){return Object(j.jsxs)("footer",{className:"footer",children:[Object(j.jsx)("div",{className:"footer__top",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(j.jsxs)("div",{className:"footer__bottom",children:[Object(j.jsxs)("p",{className:"footer__copyright",children:["\xa9 ",(new Date).getFullYear()]}),Object(j.jsxs)("div",{className:"footer__social",children:[Object(j.jsx)("a",{target:"_blank",href:"https://practicum.yandex.ru/",className:"footer__contact",rel:"noreferrer",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"}),Object(j.jsx)("a",{target:"_blank",href:"https://github.com/yandex-praktikum",className:"footer__contact",rel:"noreferrer",children:"Github"}),Object(j.jsx)("a",{target:"_blank",href:"https://www.facebook.com/yandex.practicum",className:"footer__contact",rel:"noreferrer",children:"Facebook"})]})]})]})},v=s.p+"static/media/logo.c1b0ba1c.svg",f=s.p+"static/media/burgir.5809d10a.svg",x=s.p+"static/media/Group.80dfd5bd.svg";var g=function(e){return Object(j.jsx)("div",{className:"overlay ".concat(e.isOpen?"overlay_opened":""),children:Object(j.jsxs)("div",{className:" header__menu  ".concat(e.isOpen?"header__menu_active":" "),children:[Object(j.jsxs)("div",{className:"menu__list",children:[Object(j.jsx)(r.b,{className:"header__link",to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(j.jsx)(r.b,{className:"header__link",to:"/movies",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(j.jsx)(r.b,{className:"header__link",to:"/saved_movies",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})]}),Object(j.jsx)(r.b,{className:"header__link header__link_account",to:"/profile",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]})})};var N=function(e){var t=c.a.useState(!1),s=Object(o.a)(t,2),n=s[0],a=s[1],i=c.a.useState({width:window.innerWidth}),u=Object(o.a)(i,2),d=u[0],m=u[1];function h(){m({width:window.innerWidth})}function b(){a(!n),console.log("react is dumb")}function _(){return d.width>768?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(r.b,{to:"/",children:Object(j.jsx)("img",{alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",src:v,className:"header__logo"})}),Object(j.jsxs)("div",{className:"header__container",children:[Object(j.jsx)(r.b,{className:"header__link header__link_marg",to:"/movies",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(j.jsx)(r.b,{className:"header__link",to:"/saved_movies",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})]}),Object(j.jsx)(r.b,{className:"header__link header__link_account",to:"/profile",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(r.b,{to:"/",children:Object(j.jsx)("img",{alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",src:v,className:"header__logo"})}),Object(j.jsx)(g,{isOpen:n}),Object(j.jsx)("img",{className:" ".concat(n?"header__hamburger-btn_active":"header__hamburger-btn"),src:n?x:f,alt:"\u043a\u043d\u043e\u043f\u043a\u0430 \u043c\u0435\u043d\u044e",onClick:b})]})}return c.a.useEffect((function(){return window.addEventListener("resize",h),function(){window.removeEventListener("resize",h)}}),[d]),Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)(l.b,{path:["/signin","/signup"],children:Object(j.jsx)(r.b,{to:"/",children:Object(j.jsx)("img",{alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",src:v,className:"header__logo_form"})})}),Object(j.jsx)(l.b,{exact:!0,path:"/",children:e.isLoggedIn?_():Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(r.b,{to:"/",children:Object(j.jsx)("img",{alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",src:v,className:"header__logo"})}),Object(j.jsxs)("div",{className:"header__container",children:[Object(j.jsx)(r.b,{className:"header__link",to:"/signup",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(j.jsx)("button",{className:"header__login-btn",children:Object(j.jsx)(r.b,{className:"header__link",to:"/signin",children:"\u0412\u043e\u0439\u0442\u0438"})})]})]})}),Object(j.jsx)(l.b,{path:["/movies","/saved_movies","/profile"],children:_()})]})};var S=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(N,{isLoggedIn:e.isLoggedIn}),Object(j.jsx)(u,{}),Object(j.jsx)(_,{}),Object(j.jsx)(b,{}),Object(j.jsx)(d,{}),Object(j.jsx)(h,{}),Object(j.jsx)(O,{}),Object(j.jsx)(p,{})]})},k=s(13),w=function(e,t){var s=Object(n.useState)(!0),c=Object(o.a)(s,2),a=c[0],i=c[1],r=Object(n.useState)(!1),l=Object(o.a)(r,2),j=l[0],u=l[1],d=Object(n.useState)(!1),m=Object(o.a)(d,2),h=m[0],b=m[1],_=Object(n.useState)(!1),O=Object(o.a)(_,2),p=O[0],v=O[1],f=Object(n.useState)(!1),x=Object(o.a)(f,2),g=x[0],N=x[1];return Object(n.useEffect)((function(){for(var s in t)switch(s){case"isEmpty":i(!e);break;case"isEmail":/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())?u(!1):u(!0);break;case"minLength":e.length<t[s]?b(!0):b(!1);break;case"maxLength":e.length>t[s]?v(!0):v(!1)}}),[t,e]),Object(n.useEffect)((function(){N(!(j||a||p||h))}),[j,a,p,h]),{minLengthError:h,maxLengthError:p,isEmail:j,isEmpty:a,isFormValid:g}},y=function(e,t){var s=Object(n.useState)(""),c=Object(o.a)(s,2),a=c[0],i=c[1],r=Object(n.useState)(!1),l=Object(o.a)(r,2),j=l[0],u=l[1],d=w(a,t);return Object(k.a)({value:a,onBlur:function(e){u(!0)},onChange:function(e){i(e.target.value)},isDirty:j},d)};var C=function(e){var t=y("",{isEmpty:!0,isEmail:!0}),s=y("",{isEmpty:!0,minLength:2,maxLength:24});return Object(j.jsxs)("div",{className:"login",children:[Object(j.jsx)(N,{}),Object(j.jsxs)("form",{className:"form",onSubmit:function(n){n.preventDefault(),e.onLogin({email:t.value,password:s.value})},children:[Object(j.jsx)("p",{className:"form__heading",children:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"}),Object(j.jsx)("input",{value:t.value,onBlur:function(e){return t.onBlur(e)},onChange:function(e){return t.onChange(e)},className:"form__input",required:!0,id:"E-mail",name:"E-mail",placeholder:"Email",type:"email"}),t.isDirty&&t.isEmpty&&Object(j.jsx)("span",{style:{color:"red"},children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}),t.isDirty&&t.isEmail&&Object(j.jsx)("span",{style:{color:"red"},children:"\u0412\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"}),Object(j.jsx)("input",{value:s.value,onBlur:function(e){return s.onBlur(e)},onChange:function(e){return s.onChange(e)},className:"form__input",required:!0,id:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password"}),s.isDirty&&s.isEmpty&&Object(j.jsx)("span",{style:{color:"red"},children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}),s.isDirty&&s.minLengthError&&Object(j.jsx)("span",{style:{color:"red"},children:"\u041c\u0430\u043b\u043e \u0431\u0443\u043a\u0430\u0432"}),s.isDirty&&s.maxLengthError&&Object(j.jsx)("span",{style:{color:"red"},children:"\u041c\u043d\u043e\u0433\u0430 \u0431\u0443\u043a\u0430\u0432"}),Object(j.jsx)("div",{className:"login__button-container",children:Object(j.jsx)("button",{disabled:!t.isFormValid||!s.isFormValid,type:"submit",className:"  ".concat(t.isFormValid&&s.isFormValid?"form__button":"form__button_disabled"),children:"\u0412\u043e\u0439\u0442\u0438"})})]}),Object(j.jsxs)("div",{className:"form__link-container",children:[Object(j.jsx)("p",{children:"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(j.jsx)(r.b,{to:"/signup",className:"form__link",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})};var E=function(e){var t=y("",{isEmpty:!0,isEmail:!0}),s=y("",{isEmpty:!0,minLength:2,maxLength:24}),n=y("",{isEmpty:!0,minLength:2,maxLength:30});return Object(j.jsxs)("div",{className:"register",children:[Object(j.jsx)(N,{}),Object(j.jsxs)("form",{className:"form",onSubmit:function(c){c.preventDefault(),e.onRegister({email:t.value,password:s.value,name:n.value})},children:[Object(j.jsx)("p",{className:"form__heading",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),Object(j.jsx)("input",{value:n.value,onBlur:function(e){return n.onBlur(e)},onChange:function(e){return n.onChange(e)},className:"form__input",required:!0,id:"name",name:"name",placeholder:"\u0418\u043c\u044f",type:"text"}),n.isDirty&&n.isEmpty&&Object(j.jsx)("span",{style:{color:"red"},children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}),n.isDirty&&n.minLengthError&&Object(j.jsx)("span",{style:{color:"red"},children:"\u041c\u0430\u043b\u043e \u0431\u0443\u043a\u0430\u0432"}),n.isDirty&&n.maxLengthError&&Object(j.jsx)("span",{style:{color:"red"},children:"\u041c\u043d\u043e\u0433\u0430 \u0431\u0443\u043a\u0430\u0432"}),Object(j.jsx)("input",{value:t.value,onBlur:function(e){return t.onBlur(e)},onChange:function(e){return t.onChange(e)},className:"form__input",required:!0,id:"E-mail",name:"E-mail",placeholder:"Email",type:"email"}),t.isDirty&&t.isEmpty&&Object(j.jsx)("span",{style:{color:"red"},children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}),t.isDirty&&t.isEmail&&Object(j.jsx)("span",{style:{color:"red"},children:"\u0412\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"}),Object(j.jsx)("input",{value:s.value,onBlur:function(e){return s.onBlur(e)},onChange:function(e){return s.onChange(e)},className:"form__input",required:!0,id:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password"}),s.isDirty&&s.isEmpty&&Object(j.jsx)("span",{style:{color:"red"},children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}),s.isDirty&&s.minLengthError&&Object(j.jsx)("span",{style:{color:"red"},children:"\u041c\u0430\u043b\u043e \u0431\u0443\u043a\u0430\u0432"}),s.isDirty&&s.maxLengthError&&Object(j.jsx)("span",{style:{color:"red"},children:"\u041c\u043d\u043e\u0433\u0430 \u0431\u0443\u043a\u0430\u0432"}),Object(j.jsx)("div",{className:"register__button-container",children:Object(j.jsx)("button",{disabled:!t.isFormValid||!s.isFormValid||!n.isFormValid,type:"submit",className:"".concat(t.isFormValid&&s.isFormValid&&n.isFormValid?"form__button":"form__button_disabled"),children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]}),Object(j.jsxs)("div",{className:"form__link-container",children:[Object(j.jsx)("p",{children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(j.jsx)(r.b,{to:"/signin",className:"form__link",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})};var I=function(e){var t=Number(e.duration),s=e.saved.map((function(e){return e.movieId})).some((function(t){return t===e.movie.id})),c=Object(n.useState)(!1),a=Object(o.a)(c,2),i=a[0],r=a[1];return Object(j.jsxs)("div",{className:"movie",children:[Object(j.jsx)("a",{target:"_blank",href:e.trailerLink,rel:"noreferrer",children:Object(j.jsx)("img",{className:"movie__pic",src:e.link,alt:"\u043f\u043e\u0441\u0442\u0435\u0440 \u0444\u0438\u043b\u044c\u043c\u0430"})}),Object(j.jsxs)("div",{className:"movie__container",children:[Object(j.jsxs)("div",{className:"movie__text-container",children:[Object(j.jsx)("p",{className:"movie__text",children:e.name}),Object(j.jsx)("p",{className:"movie__duration",children:t>60?Math.floor(t/60)+"\u0447"+t%60+"\u043c":t+"\u043c"})]}),Object(j.jsxs)("div",{className:"movie__save-container",children:[Object(j.jsx)(l.b,{path:"/movies",children:Object(j.jsx)("button",{className:"".concat(i||s?"movie__save-button_active":"movie__save-button"),type:"button",onClick:i||s?function(){var t=e.movie.id,s=e.saved.filter((function(e){return Object.values(e).find((function(e){return e===t}))}));e.onDelClick(s[0]._id),r(!1)}:function(){e.onSaveClick({country:e.movie.country,director:e.movie.director,duration:e.movie.duration,year:e.movie.year,description:e.movie.description,image:e.link,trailer:e.movie.trailerLink,thumbnail:e.link,movieId:e.movie.id,nameRU:e.movie.nameRU,nameEN:e.movie.nameEN,owner:e.user._id}),r(!0)}})}),Object(j.jsx)(l.b,{path:"/saved_movies",children:Object(j.jsx)("button",{className:"movie__saved-button",type:"button",onClick:function(){console.log(e.movie._id),e.onDelClick(e.movie._id)}})})]})]})]})};var L=function(e){var t=Object(n.useState)([]),s=Object(o.a)(t,2),c=s[0],a=s[1],i=Object(n.useState)(0),r=Object(o.a)(i,2),u=r[0],d=r[1],m=Object(n.useState)(0),h=Object(o.a)(m,2),b=h[0],_=h[1],O=Object(n.useState)(!1),p=Object(o.a)(O,2),v=p[0],f=p[1],x=Object(n.useState)({width:window.innerWidth}),g=Object(o.a)(x,2),N=g[0],S=g[1];function k(){S({width:window.innerWidth})}return Object(n.useEffect)((function(){return 0!==e.view.length&&f(!0),N.width>1280&&(d(1),_(4),a(e.view.slice(e.counter,e.counter+4))),N.width<=1280&&(d(2),_(3),a(e.view.slice(e.counter,e.counter+3))),N.width<=768&&(d(4),_(2),a(e.view.slice(e.counter,e.counter+2))),N.width<635&&(d(5),_(1),a(e.view.slice(e.counter,e.counter+5))),window.addEventListener("resize",k),function(){window.removeEventListener("resize",k)}}),[e,e.counter,e.view,N]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(l.b,{exact:!0,path:"/movies",children:[Object(j.jsx)("section",{className:"movies",children:e.isSubmitted&&0===e.view.length?Object(j.jsx)("p",{className:"movies__empty",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e..."}):c.map((function(t){return Object(j.jsx)(I,{saved:e.saved,user:e.user,onDelClick:e.onDelClick,onSaveClick:e.onSaveClick,movie:t,name:t.nameRU,duration:t.duration,trailerLink:t.trailerLink,link:"".concat("https://api.nomoreparties.co"+t.image.url)},t.id)}))}),Object(j.jsx)("div",{className:"".concat(v?"more__box":"more__box_null"),children:Object(j.jsx)("button",{onClick:function(){console.log(e.view),N.width>1280?u*b<e.view.length?(a(c.concat(e.view.slice(u*b,u*b+4))),d(u+1)):(f(!1),a(e.view)):N.width<=1280&&N.width>768?u*b<e.view.length?(a(c.concat(e.view.slice(u*b,u*b+3))),d(u+1)):(f(!1),a(e.view)):N.width<=768&&N.width>425?u*b<e.view.length?(a(c.concat(e.view.slice(u*b,u*b+2))),d(u+1)):(f(!1),a(e.view)):N.width<=425&&(u*b<e.view.length?(a(c.concat(e.view.slice(u*b,u*b+1))),d(u+1)):(f(!1),a(e.view)))},className:"more__btn",children:"\u0415\u0449\u0451"})})]}),Object(j.jsx)(l.b,{path:"/saved_movies",children:Object(j.jsx)("section",{className:"movies",children:e.isSubmitted&&0===e.view.length?Object(j.jsx)("p",{className:"movies__empty",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e..."}):e.view.map((function(t){return Object(j.jsx)(I,{user:e.user,saved:e.view,view:e.view,onDelClick:e.onDelClick,movie:t,name:t.nameRU,duration:t.duration,trailerLink:t.trailer,link:t.image},t._id)}))})})]})};var P=function(e){var t=Object(n.useState)(""),s=Object(o.a)(t,2),c=s[0],a=s[1],i=Object(n.useState)(!1),r=Object(o.a)(i,2),l=r[0],u=r[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("checkbxSt");e&&u(JSON.parse(e))}),[]),Object(j.jsxs)("div",{className:"searchform__box",children:[Object(j.jsxs)("form",{onSubmit:function(t){console.log(e.movies),t.preventDefault(),e.onSearch(e.movies,c),e.subm(),console.log(c)},className:"searchform",children:[Object(j.jsx)("input",{onChange:function(e){a(e.target.value)},required:!0,placeholder:"\u0424\u0438\u043b\u044c\u043c",type:"search",className:"searchform__input"}),Object(j.jsx)("button",{disabled:0===c.length,className:"".concat(0===c.length?"searchform__button_disabled":"searchform__button"),onClick:e.preloaderState})]}),Object(j.jsx)("input",{className:"searchform__checkbox",id:"shortFilm",checked:l,type:"checkbox",onClick:function(){u(!l),l?(localStorage.setItem("checkbxSt",JSON.stringify(!1)),e.onSearch(e.movies,c)):(localStorage.setItem("checkbxSt",JSON.stringify(!0)),e.shortFilms(e.view),e.setIsPressed())}}),Object(j.jsx)("label",{className:"searchform__label",htmlFor:"shortFilm",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]})};var F=function(){return Object(j.jsx)("div",{className:"preloader",children:Object(j.jsx)("div",{className:"preloader__container",children:Object(j.jsx)("span",{className:"preloader__round"})})})};var D=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(N,{setIsPressed:e.setIsPressed,subm:e.subm}),Object(j.jsx)(P,{setIsPressed:e.setIsPressed,subm:e.subm,preloaderState:e.preloaderState,view:e.view,shortFilms:e.shortFilms,onSearch:e.onSearch,movies:e.movies}),e.loadState?Object(j.jsx)(L,{setCounter:e.setCounter,counter:e.counter,isSubmitted:e.submSt,saved:e.saved,user:e.user,onDelClick:e.onDelClick,onSaveClick:e.onSaveClick,view:e.view}):Object(j.jsx)(F,{}),Object(j.jsx)(p,{})]})};var U=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(N,{setIsPressed:e.setIsPressed,subm:e.subm}),Object(j.jsx)(P,{setIsPressed:e.setIsPressed,subm:e.subm,preloaderState:e.preloaderState,view:e.view,shortFilms:e.shortFilms,onSearch:e.onSearch,movies:e.movies}),Object(j.jsx)(L,{isSubmitted:e.submSt,user:e.user,onDelClick:e.onDelClick,view:e.view}),Object(j.jsx)(p,{})]})},B=c.a.createContext();var T=function(e){var t=c.a.useContext(B),s=c.a.useState(""),n=Object(o.a)(s,2),a=n[0],i=n[1],l=c.a.useState(""),u=Object(o.a)(l,2),d=u[0],m=u[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(N,{}),Object(j.jsx)("section",{className:"profile",children:Object(j.jsxs)("form",{className:"profile__form",onSubmit:function(t){t.preventDefault(),e.onUpdate({email:a,name:d})},children:[Object(j.jsxs)("h1",{className:"profile__head",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",t.name," !"]}),Object(j.jsxs)("div",{className:"profile__input-container",children:[Object(j.jsxs)("div",{className:"profile__name-input-container",children:[Object(j.jsx)("span",{className:"profile__span",children:"\u0418\u043c\u044f"}),Object(j.jsx)("input",{required:!0,onChange:function(e){m(e.target.value)},className:"profile__input",placeholder:t.name})]}),Object(j.jsxs)("div",{className:"profile__email-input-container",children:[Object(j.jsx)("span",{className:"profile__span",children:"\u041f\u043e\u0447\u0442\u0430"}),Object(j.jsx)("input",{required:!0,onChange:function(e){i(e.target.value)},className:"profile__input",placeholder:t.email})]})]}),Object(j.jsxs)("div",{className:"profile__bottom-container",children:[Object(j.jsx)("button",{disabled:0===d.length||0===a.length,className:"profile__update-btn",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(j.jsx)(r.b,{className:"profile__signout",onClick:e.onSignOut,to:"/",children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})]})})]})},J=s(11),R=s(12),V=function(){function e(t){Object(J.a)(this,e),this.baseUrl=t.baseUrl,this.headers=t.headers}return Object(R.a)(e,[{key:"getUserInfo",value:function(){return fetch("".concat(this.baseUrl,"/users/me"),{method:"GET",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("err : ".concat(e.status))}))}},{key:"getSavedMovies",value:function(e){return fetch("".concat(this.baseUrl,"/movies"),{method:"GET",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("err : ".concat(e.status))}))}},{key:"onLogin",value:function(e){var t=e.email,s=e.password;return fetch("".concat(this.baseUrl,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:s})}).then((function(e){return e.ok?e.json():Promise.reject("err : ".concat(e.status))}))}},{key:"onRegister",value:function(e){var t=e.email,s=e.password,n=e.name;return fetch("".concat(this.baseUrl,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:s,name:n})}).then((function(e){return e.ok?e.json():Promise.reject("err : ".concat(e.status))}))}},{key:"tokenCheck",value:function(e){return fetch("".concat(this.baseUrl,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.ok?e.json():Promise.reject("err : ".concat(e.status))}))}},{key:"updateUserInfo",value:function(e){return fetch("".concat(this.baseUrl,"/users/me"),{method:"PATCH",headers:this.headers,body:e}).then((function(e){return e.ok?e.json():Promise.reject("err : ".concat(e.status))}))}},{key:"changeMovieStatus",value:function(e){return fetch("".concat(this.baseUrl,"/movies"),{method:"POST",headers:this.headers,body:e}).then((function(e){return e.ok?e.json():Promise.reject("err : ".concat(e.status))}))}},{key:"removeLike",value:function(e){return fetch("".concat(this.baseUrl,"/movies/").concat(e),{method:"DELETE",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("err : ".concat(e.status))}))}}]),e}(),M=new(function(){function e(t){Object(J.a)(this,e),this.baseUrl=t.baseUrl,this.headers=t.headers}return Object(R.a)(e,[{key:"getAllMovies",value:function(){return fetch("https://api.nomoreparties.co/beatfilm-movies",{method:"GET"}).then((function(e){return e.ok?e.json():Promise.reject("err : ".concat(e.status))}))}}]),e}())({baseUrl:"https://api.diploma_shvayka.nomoredomains.work",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),z=s(21),A=["component"],q=function(e){var t=e.component,s=Object(z.a)(e,A);return Object(j.jsx)(l.b,{path:"*",children:s.loggedIn?Object(j.jsx)(t,Object(k.a)({},s)):Object(j.jsx)(l.a,{to:"/movies"})})};var G=function(e){var t=Object(l.g)();return Object(n.useEffect)((function(){console.log(t)})),Object(j.jsxs)("div",{className:"not-found",children:[Object(j.jsxs)("h3",{className:"not-found__title",children:["404 ",Object(j.jsx)("br",{}),Object(j.jsx)("p",{className:"not-found__subtitle",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})]}),Object(j.jsx)("button",{className:"button button_type_to-main",onClick:function(){console.log("\u043a\u043b\u0438\u043a"),console.log(e.isLoggedIn),t.go(-2)},children:"\u041d\u0430\u0437\u0430\u0434"})]})},W=s.p+"static/media/deleteBtn.82859c1a.svg";var H=function(e){return Object(j.jsx)("div",{className:"".concat(e.isOpen?"popup":"popup_hidden"),children:Object(j.jsxs)("div",{className:"popup__container",children:[Object(j.jsx)("button",{type:"button",className:"popup__close-button register__close-button",onClick:e.setIsOpen,children:Object(j.jsx)("img",{className:"popup__close-button-image",src:W,alt:"\u041a\u0440\u0435\u0441\u0442\u0438\u043a"})}),Object(j.jsx)("p",{className:"popup__text",children:e.isSuccessful?"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b":"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.."})]})})};var Z=function(){var e=Object(l.g)(),t=c.a.useState({}),s=Object(o.a)(t,2),n=s[0],a=s[1],i=c.a.useState([]),r=Object(o.a)(i,2),u=r[0],d=r[1],m=c.a.useState(!1),h=Object(o.a)(m,2),b=h[0],_=h[1],O=c.a.useState([]),p=Object(o.a)(O,2),v=p[0],f=p[1],x=c.a.useState([]),g=Object(o.a)(x,2),N=g[0],k=g[1],w=c.a.useState([]),y=Object(o.a)(w,2),I=y[0],L=y[1],P=c.a.useState(!0),F=Object(o.a)(P,2),J=F[0],R=F[1],z=c.a.useState(!1),A=Object(o.a)(z,2),W=A[0],Z=A[1],K=c.a.useState(0),Y=Object(o.a)(K,2),$=Y[0],Q=Y[1],X=c.a.useState(null),ee=Object(o.a)(X,2),te=ee[0],se=ee[1],ne=c.a.useState(!1),ce=Object(o.a)(ne,2),ae=ce[0],ie=ce[1],re=c.a.useState(!1),oe=Object(o.a)(re,2),le=oe[0],je=oe[1],ue=Object(l.h)(),de=new V({baseUrl:"https://api.diplomashvayka.nomoredomains.club",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),me=c.a.useCallback((function(){var t=localStorage.getItem("token");t&&de.tokenCheck(t).then((function(t){t&&(console.log(t.email),be(),e.push(ue.pathname))})).catch((function(e){return alert(e)}))}),[]);function he(t){var s=t.email,n=t.password;de.onLogin({email:s,password:n}).then((function(t){var s=localStorage.getItem("movies");s?d(JSON.parse(s)):M.getAllMovies().then((function(e){d(e),localStorage.setItem("movies",JSON.stringify(e))})),localStorage.setItem("token",t.token),a(t.user),be(),e.push("/movies")})).catch((function(e){ie(!0),se(!1)}))}function be(){_(!0)}function _e(e){de.removeLike(e).then((function(t){return L(I.filter((function(t){return Object.values(t).every((function(t){return t!==e}))})))})).catch((function(e){return alert(e)}))}c.a.useEffect((function(){var e=localStorage.getItem("movies"),t=localStorage.getItem("searchRes");localStorage.getItem("token")&&(console.log("check"),me(),de.getUserInfo().then((function(e){a(e)})).catch((function(e){return alert(e)})),t&&f(JSON.parse(t)),de.getSavedMovies().then((function(e){console.log(e),L(e)})).catch((function(e){return alert(e)}))),e?d(JSON.parse(e)):M.getAllMovies().then((function(e){d(e),localStorage.setItem("movies",JSON.stringify(e))}))}),[me]);var Oe=function(){R(J)},pe=function(){R(!J),setTimeout(Oe,2e3)},ve=function(){Z(!W)},fe=function(){je(!le)};return Object(j.jsx)(B.Provider,{value:n,children:Object(j.jsxs)("div",{className:"app",children:[Object(j.jsxs)(l.d,{history:e,children:[Object(j.jsx)(q,{setIsPressed:fe,setCounter:Q,counter:$,submSt:W,subm:ve,preloaderState:pe,loadState:J,user:n,movies:u,onSaveClick:function(e){de.changeMovieStatus(JSON.stringify(e)).then((function(e){I.push(e)})).catch((function(e){return alert(e)}))},saved:I,onDelClick:_e,shortFilms:function(e){f((function(){var e;return e=u.filter((function(e){return!(e.duration>50)})),localStorage.setItem("searchRes",JSON.stringify(e)),e}))},loggedIn:b,onSearch:function(e,t){f((function(){var e;return e=u.filter((function(e){return Object.values(e).some((function(e){return"string"===typeof e&&e.toLowerCase().includes(t.toLowerCase())}))})),localStorage.setItem("searchRes",JSON.stringify(e)),e})),console.log(v),Q(0)},view:v,component:D,path:"/movies"}),Object(j.jsx)(q,{setIsPressed:fe,submSt:W,subm:ve,user:n,onSearch:function(e,t){k((function(){return I.filter((function(e){return Object.values(e).some((function(e){return"string"===typeof e&&e.toLowerCase().includes(t.toLowerCase())}))}))})),console.log(I)},preloaderState:pe,loadState:J,loggedIn:b,shortFilms:function(e){k((function(){return e.filter((function(e){return!(e.duration>50)}))}))},onDelClick:_e,view:W||le?N:I,movies:I,component:U,path:"/saved_movies"}),Object(j.jsx)(q,{isSuccessful:te,onSignOut:function(){localStorage.removeItem("token"),localStorage.removeItem("checkbxSt"),localStorage.removeItem("searchRes"),localStorage.removeItem("movies"),e.push("/signin"),_(!1)},loggedIn:b,user:n,onUpdate:function(e){de.updateUserInfo(JSON.stringify(e)).then((function(e){a(e),se(!0),ie(!0)})).catch((function(e){ie(!0),se(!1),alert(e)}))},component:T,path:"/profile"}),Object(j.jsx)(l.b,{exact:!0,path:"/",children:Object(j.jsx)(S,{isLoggedIn:b})}),Object(j.jsx)(l.b,{path:"/signin",children:Object(j.jsx)(C,{onLogin:he})}),Object(j.jsx)(l.b,{path:"/signup",children:Object(j.jsx)(E,{onRegister:function(t){var s=t.email,n=t.password,c=t.name;de.onRegister({email:s,password:n,name:c}).then((function(t){a(t),he({email:s,password:n}),e.push("/movies")})).catch((function(e){ie(!0),se(!1)}))}})}),Object(j.jsx)(l.b,{path:"*",children:Object(j.jsx)(G,{isLoggedIn:b})})]}),Object(j.jsx)(H,{isSuccessful:te,isOpen:ae,setIsOpen:function(){ie(!1)}})]})})},K=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,34)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),n(e),c(e),a(e),i(e)}))};i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(r.a,{children:Object(j.jsx)(Z,{})})}),document.getElementById("root")),K()}},[[33,1,2]]]);
//# sourceMappingURL=main.f7b6b437.chunk.js.map