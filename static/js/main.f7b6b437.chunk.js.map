{"version":3,"sources":["components/Promo/Promo.js","components/Tech/Techs.js","images/me.jpg","components/AboutMe/AboutMe.js","components/AboutProject/AboutProject.js","components/NavTab/NavTab.js","components/Portfolio/Portfolio.js","components/Footer/Footer.js","images/logo.svg","images/burgir.svg","images/Group.svg","components/Menu/Menu.js","components/Header/Header.js","components/Main/Main.js","utils/customHooks/useValidation.js","utils/customHooks/useInput.js","components/Login/Login.js","components/Register/Register.js","components/MoviesCard/MoviesCard.js","components/MoviesCardList/MoviesCardList.js","components/SearchForm/SearchForm.js","components/Preloader/Preloader.js","components/Movies/Movies.js","components/SavedMovies/SavedMovies.js","contexts/currentUserContext.js","components/Profile/Profile.js","utils/authApi.js","utils/moviesApi.js","components/ProtectedRoute/ProtectedRoute.js","components/404/404.js","images/deleteBtn.svg","components/Popup/Popup.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["Promo","className","Techs","id","AboutMe","href","src","me","alt","AboutProject","NavTab","Portfolio","Footer","Date","getFullYear","target","rel","Menu","props","isOpen","to","Header","React","useState","isMenuOpen","handleMenuVisibility","width","window","innerWidth","measureHeaderWidth","checkWindowsWidth","handleMenuClick","console","log","getLoggedHeaderLayout","logo","menuClose","burgir","onClick","useEffect","addEventListener","removeEventListener","path","exact","isLoggedIn","Main","useValidation","value","validations","isEmpty","setIsEmpty","isEmail","setEmailError","minLengthError","setMinLengthError","maxLengthError","setMaxLengthError","isFormValid","setFormValidity","validation","test","String","toLowerCase","length","useInput","initialValue","setValue","isDirty","setIsDirty","validity","onBlur","e","onChange","Login","email","password","minLength","maxLength","onSubmit","preventDefault","onLogin","required","name","placeholder","type","style","color","disabled","Register","onRegister","MoviesCard","duration","Number","wasSaved","saved","map","movieId","some","movie","isSaved","setSavedState","trailerLink","link","Math","floor","ids","filter","i","Object","values","find","onDelClick","_id","onSaveClick","country","director","year","description","image","trailer","thumbnail","nameRU","nameEN","owner","user","MoviesCardList","chunk","setChunkSize","rows","setRows","columns","setColumns","isVisible","setVisibility","measureWidth","view","slice","counter","isSubmitted","url","concat","SearchForm","search","searchInput","isChecked","setCheckbox","state","localStorage","getItem","JSON","parse","movies","onSearch","subm","preloaderState","checked","setItem","stringify","shortFilms","setIsPressed","htmlFor","Preloader","Movies","loadState","setCounter","submSt","SavedMovies","CurrentUserContext","createContext","Profile","useContext","emailInput","nameInput","onUpdate","onSignOut","Auth","options","this","baseUrl","headers","fetch","method","then","res","ok","json","Promise","reject","status","body","token","data","api","ProtectedRoute","Component","component","loggedIn","NotFoundPage","history","useHistory","go","Popup","setIsOpen","close","isSuccessful","App","currentUser","setCurrentUserInfo","moviesBase","setMoviesBase","searchResult","setSearchResult","searchSavedResult","setSearchSavedResult","savedMovies","setSavedMovies","isLoading","setIsLoading","setIsSubmitted","timesPressed","setTimesPressed","setIsSuccessful","isPressed","location","useLocation","MainApi","tokenCheck","useCallback","handleLogin","push","pathname","catch","err","alert","MoviesApi","getAllMovies","removeLike","d","el","every","elem","searchRes","getUserInfo","getSavedMovies","onLoad","onLoadSetTimeout","setTimeout","onSearchSubmit","handleCheckbox","Provider","changeMovieStatus","arr","input","includes","removeItem","updateUserInfo","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8NASeA,MATf,WACI,OACI,yBAASC,UAAU,QAAnB,SACI,qBAAKA,UAAU,eAAf,SACI,mBAAGA,UAAU,cAAb,iSC+BDC,MAnCf,WACI,OACI,yBAASD,UAAU,QAAQE,GAAG,QAA9B,SACI,sBAAKF,UAAU,mBAAf,UACI,oBAAIA,UAAU,iBAAd,0EACA,qBAAIA,UAAU,qBAAd,2EACA,mBAAGA,UAAU,cAAb,8cAEA,qBAAIA,UAAU,cAAd,UACI,oBAAIA,UAAU,mBAAd,kBAGA,oBAAIA,UAAU,mBAAd,iBAGA,oBAAIA,UAAU,mBAAd,gBAGA,oBAAIA,UAAU,mBAAd,mBAGA,oBAAIA,UAAU,mBAAd,iBAGA,oBAAIA,UAAU,mBAAd,wBAGA,oBAAIA,UAAU,mBAAd,8BC3BL,MAA0B,+BC0B1BG,MAzBf,WACI,OACI,sBAAKH,UAAU,UAAUE,GAAG,UAA5B,UACI,oBAAIF,UAAU,mBAAd,wDACA,sBAAKA,UAAU,qBAAf,UACA,sBAAKA,UAAU,gCAAf,UAEI,mBAAGA,UAAU,gBAAb,sCACA,mBAAGA,UAAU,qBAAb,qFACA,yBAASA,UAAU,mBAAnB,26BAIA,sBAAKA,UAAU,kBAAf,UACI,mBAAII,KAAK,6BAA6BJ,UAAU,gBAAhD,gBACA,mBAAGI,KAAK,oCAAoCJ,UAAU,gBAAtD,0BAKR,qBAAKA,UAAU,iBAAiBK,IAAKC,EAAIC,IAAI,6GCF1CC,MAnBf,WACI,OACI,0BAASR,UAAU,eAAeE,GAAG,UAArC,UACI,oBAAIF,UAAU,wBAAd,+DACA,sBAAKA,UAAU,qBAAf,UACI,oBAAIA,UAAU,kEAAd,2LACA,oBAAIA,UAAU,kEAAd,kMACA,mBAAGA,UAAU,4DAAb,0hBACA,mBAAGA,UAAU,4DAAb,0hBAEJ,sBAAKA,UAAU,4BAAf,UACI,qBAAKA,UAAU,qBAAf,SAAoC,sBAAMA,UAAU,gCAAhB,sDACpC,qBAAKA,UAAU,oBAAf,SAAmC,sBAAMA,UAAU,gCAAhB,sDACnC,mBAAGA,UAAU,2BAAb,sBACA,mBAAGA,UAAU,2BAAb,8BCHDS,MAXf,WACI,OACI,sBAAKT,UAAU,SAAf,UAEI,wBAAQA,UAAU,cAAlB,SAAgC,mBAAGA,UAAU,eAAeI,KAAK,WAAjC,iEAChC,wBAAQJ,UAAU,cAAlB,SAAgC,mBAAGA,UAAU,eAAeI,KAAK,SAAjC,4EAChC,wBAAQJ,UAAU,cAAlB,SAAgC,mBAAGA,UAAU,eAAeI,KAAK,WAAjC,8DCM7BM,MAZf,WACI,OACI,0BAASV,UAAU,YAAnB,UACI,oBAAIA,UAAU,qBAAd,oEACA,qBAAIA,UAAU,kBAAd,UACG,qBAAIA,UAAU,uBAAd,cAAsC,mBAAGI,KAAK,iDAAiDJ,UAAU,kBAAnE,8FAAwG,sBAAMA,UAAU,mBAAhB,uBAC9I,qBAAIA,UAAU,uBAAd,cAAsC,mBAAGI,KAAK,mDAAmDJ,UAAU,kBAArE,oGAA2G,sBAAMA,UAAU,mBAAhB,uBAClJ,qBAAIA,UAAU,uBAAd,eAAuC,mBAAGI,KAAK,uDAAuDJ,UAAU,kBAAzE,gKAAyH,sBAAMA,UAAU,mBAAhB,8BCS/JW,MAhBf,WACI,OACI,yBAAQX,UAAU,SAAlB,UACI,qBAAKA,UAAU,cAAf,0MACA,sBAAKA,UAAU,iBAAf,UACI,oBAAGA,UAAU,oBAAb,mBAAyC,IAAIY,MAAOC,iBACpD,sBAAKb,UAAU,iBAAf,UACI,mBAAGc,OAAO,SAASV,KAAI,+BAAkCJ,UAAU,kBAAkBe,IAAI,aAAzF,yGACA,mBAAGD,OAAO,SAASV,KAAI,sCAAyCJ,UAAU,kBAAkBe,IAAI,aAAhG,oBACA,mBAAGD,OAAO,SAASV,KAAI,4CAA+CJ,UAAU,kBAAkBe,IAAI,aAAtG,gCCTL,MAA0B,iCCA1B,MAA0B,mCCA1B,MAA0B,kCCmB1BC,MAjBf,SAAcC,GAEV,OACI,qBAAKjB,UAAS,kBAAaiB,EAAMC,OAAS,iBAAmB,IAA7D,SAEI,sBAAKlB,UAAS,yBAAoBiB,EAAMC,OAAS,sBAAwB,KAAzE,UACI,sBAAKlB,UAAU,aAAf,UACI,cAAC,IAAD,CAAMA,UAAU,eAAemB,GAAG,IAAlC,wDACA,cAAC,IAAD,CAAMnB,UAAU,eAAemB,GAAG,UAAlC,kDACA,cAAC,IAAD,CAAMnB,UAAU,eAAemB,GAAG,gBAAlC,wHAEJ,cAAC,IAAD,CAAMnB,UAAU,oCAAoCmB,GAAG,WAAvD,8DC8EDC,MArFf,SAAgBH,GACZ,MAA2CI,IAAMC,UAAS,GAA1D,mBAAOC,EAAP,KAAmBC,EAAnB,KACA,EAAoCH,IAAMC,SAAS,CAAEG,MAAOC,OAAOC,aAAnE,mBAAOF,EAAP,KAAcG,EAAd,KAQA,SAASC,IACLD,EAAmB,CAAEH,MAAOC,OAAOC,aAEvC,SAASG,IACLN,GAAsBD,GACtBQ,QAAQC,IAAI,iBAMhB,SAASC,IACL,OAAIR,EAAMA,MAAQ,IAEV,qCACI,cAAC,IAAD,CAAMN,GAAG,IAAT,SACI,qBAAKZ,IAAI,6CAAUF,IAAK6B,EAAMlC,UAAU,mBAI5C,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAMA,UAAU,iCAAiCmB,GAAG,UAApD,kDACA,cAAC,IAAD,CAAMnB,UAAU,eAAemB,GAAG,gBAAlC,wHAEJ,cAAC,IAAD,CAAMnB,UAAU,oCAAoCmB,GAAG,WAAvD,2DAKJ,qCACI,cAAC,IAAD,CAAMA,GAAG,IAAT,SACI,qBAAKZ,IAAI,6CAAUF,IAAK6B,EAAMlC,UAAU,mBAG5C,cAAC,EAAD,CAAMkB,OAAQK,IACd,qBACIvB,UAAS,WAAMuB,EAAa,+BAAiC,yBAC7DlB,IAAKkB,EAAaY,EAAYC,EAAQ7B,IAAI,gEAAc8B,QAASP,OAMrF,OAlDAT,IAAMiB,WAAU,WAEZ,OADAZ,OAAOa,iBAAiB,SAAUV,GAC3B,WACHH,OAAOc,oBAAoB,SAAUX,MAE1C,CAACJ,IA8CA,yBAAQzB,UAAU,SAAlB,UACI,cAAC,IAAD,CAAOyC,KAAM,CAAC,UAAW,WAAzB,SACI,cAAC,IAAD,CAAMtB,GAAG,IAAT,SACI,qBAAKZ,IAAI,6CAAUF,IAAK6B,EAAMlC,UAAU,0BAKhD,cAAC,IAAD,CAAO0C,OAAK,EAACD,KAAK,IAAlB,SACKxB,EAAM0B,WACHV,IAEA,qCACI,cAAC,IAAD,CAAMd,GAAG,IAAT,SACI,qBAAKZ,IAAI,6CAAUF,IAAK6B,EAAMlC,UAAU,mBAG5C,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAMA,UAAU,eAAemB,GAAG,UAAlC,gFACA,wBAAQnB,UAAU,oBAAlB,SAAsC,cAAC,IAAD,CAAMA,UAAU,eAAemB,GAAG,UAAlC,sDAMtD,cAAC,IAAD,CAAOsB,KAAM,CAAC,UAAW,gBAAiB,YAA1C,SACKR,UChEFW,MAdf,SAAc3B,GACV,OACI,qCACI,cAAC,EAAD,CAAQ0B,WAAY1B,EAAM0B,aAC1B,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,Q,QC8BGE,EA9CO,SAACC,EAAOC,GAC1B,MAA8BzB,oBAAS,GAAvC,mBAAO0B,EAAP,KAAgBC,EAAhB,KACA,EAAiC3B,oBAAS,GAA1C,mBAAO4B,EAAP,KAAgBC,EAAhB,KACA,EAA4C7B,oBAAS,GAArD,mBAAO8B,EAAP,KAAuBC,EAAvB,KACA,EAA4C/B,oBAAS,GAArD,mBAAOgC,EAAP,KAAuBC,EAAvB,KACA,EAAuCjC,oBAAS,GAAhD,mBAAOkC,EAAP,KAAoBC,EAApB,KAiCA,OAhCAnB,qBAAU,WACN,IAAK,IAAMoB,KAAcX,EACrB,OAAQW,GACJ,IAAK,UAEOT,GAARH,GACA,MACJ,IAAK,UAEU,wJACRa,KAAKC,OAAOd,GAAOe,eAAiBV,GAAc,GAASA,GAAc,GAC5E,MACJ,IAAK,YAEDL,EAAMgB,OAASf,EAAYW,GAAcL,GAAkB,GAAQA,GAAkB,GACrF,MACJ,IAAK,YAEDP,EAAMgB,OAASf,EAAYW,GAAcH,GAAkB,GAAQA,GAAkB,MAKlG,CAACR,EAAaD,IAEjBR,qBAAU,WAEFmB,IADDP,GAAWF,GAAWM,GAAkBF,MAK5C,CAACF,EAASF,EAASM,EAAgBF,IAChC,CACFA,iBACAE,iBACAJ,UACAF,UACAQ,gBCvBOO,EApBE,SAACC,EAAcjB,GAC5B,MAA0BzB,mBAAS,IAAnC,mBAAOwB,EAAP,KAAcmB,EAAd,KACA,EAA8B3C,oBAAS,GAAvC,mBAAO4C,EAAP,KAAgBC,EAAhB,KACMC,EAAWvB,EAAcC,EAAOC,GAStC,OAAO,aACHD,QACAuB,OANW,SAACC,GACZH,GAAW,IAMXI,SAXa,SAACD,GACdL,EAASK,EAAExD,OAAOgC,QAWlBoB,WACGE,ICsBII,MApCf,SAAevD,GACX,IAAMwD,EAAQV,EAAS,GAAI,CAAEf,SAAS,EAAME,SAAS,IAC/CwB,EAAWX,EAAS,GAAI,CAAEf,SAAS,EAAM2B,UAAW,EAAGC,UAAW,KAKxE,OACQ,sBAAK5E,UAAU,QAAf,UACI,cAAC,EAAD,IACA,uBAAMA,UAAU,OAAO6E,SAPnC,SAAsBP,GAClBA,EAAEQ,iBACF7D,EAAM8D,QAAQ,CAAEN,MAAOA,EAAM3B,MAAO4B,SAAUA,EAAS5B,SAK/C,UACI,mBAAG9C,UAAU,gBAAb,4EACA,uBAAO8C,MAAO2B,EAAM3B,MAAOuB,OAAQ,SAAAC,GAAC,OAAIG,EAAMJ,OAAOC,IAAIC,SAAU,SAAAD,GAAC,OAAIG,EAAMF,SAASD,IAAKtE,UAAU,cAAcgF,UAAQ,EAAC9E,GAAG,SAC5H+E,KAAK,SAASC,YAAY,QAC1BC,KAAK,UACPV,EAAMP,SAAWO,EAAMzB,SAAY,sBAAMoC,MAAO,CAAEC,MAAO,OAAtB,+GACnCZ,EAAMP,SAAWO,EAAMvB,SAAY,sBAAMkC,MAAO,CAAEC,MAAO,OAAtB,iIACrC,uBAAOvC,MAAO4B,EAAS5B,MAAOuB,OAAQ,SAAAC,GAAC,OAAII,EAASL,OAAOC,IAAIC,SAAU,SAAAD,GAAC,OAAII,EAASH,SAASD,IAAItE,UAAU,cAAcgF,UAAQ,EAAC9E,GAAG,WACpI+E,KAAK,WAAWC,YAAY,uCAASC,KAAK,aAE5CT,EAASR,SAAWQ,EAAS1B,SAAY,sBAAMoC,MAAO,CAAEC,MAAO,OAAtB,+GACzCX,EAASR,SAAWQ,EAAStB,gBAAmB,sBAAMgC,MAAO,CAAEC,MAAO,OAAtB,qEAChDX,EAASR,SAAWQ,EAASpB,gBAAmB,sBAAM8B,MAAO,CAAEC,MAAO,OAAtB,2EAClD,qBAAKrF,UAAU,0BAAf,SACI,wBAAQsF,UAAWb,EAAMjB,cAAgBkB,EAASlB,YAAa2B,KAAK,SAASnF,UAAS,YAASyE,EAAMjB,aAAgBkB,EAASlB,YAC7F,eAA1B,yBADP,iDAIR,sBAAKxD,UAAU,uBAAf,UACI,kKACA,cAAC,IAAD,CAAMmB,GAAG,UAAUnB,UAAU,aAA7B,uFCiBLuF,MA5Cf,SAAkBtE,GACd,IAAMwD,EAAQV,EAAS,GAAI,CAAEf,SAAS,EAAME,SAAS,IAC/CwB,EAAWX,EAAS,GAAI,CAAEf,SAAS,EAAM2B,UAAW,EAAGC,UAAW,KAClEK,EAAOlB,EAAS,GAAI,CAAEf,SAAS,EAAM2B,UAAW,EAAGC,UAAW,KAMpE,OACQ,sBAAK5E,UAAU,WAAf,UACI,cAAC,EAAD,IACA,uBAAMA,UAAU,OAAO6E,SAPnC,SAAsBP,GAClBA,EAAEQ,iBACF7D,EAAMuE,WAAW,CAAEf,MAAOA,EAAM3B,MAAO4B,SAAUA,EAAS5B,MAAOmC,KAAMA,EAAKnC,SAKpE,UACI,mBAAG9C,UAAU,gBAAb,0GACA,uBAAO8C,MAAOmC,EAAKnC,MAAOuB,OAAQ,SAAAC,GAAC,OAAIW,EAAKZ,OAAOC,IAAIC,SAAU,SAAAD,GAAC,OAAIW,EAAKV,SAASD,IAAItE,UAAU,cAAcgF,UAAQ,EAAC9E,GAAG,OACxH+E,KAAK,OAAOC,YAAY,qBACxBC,KAAK,SACPF,EAAKf,SAAWe,EAAKjC,SAAY,sBAAMoC,MAAO,CAAEC,MAAO,OAAtB,+GACjCJ,EAAKf,SAAWe,EAAK7B,gBAAmB,sBAAMgC,MAAO,CAAEC,MAAO,OAAtB,qEACxCJ,EAAKf,SAAWe,EAAK3B,gBAAmB,sBAAM8B,MAAO,CAAEC,MAAO,OAAtB,2EAC1C,uBAAOvC,MAAO2B,EAAM3B,MAAOuB,OAAQ,SAAAC,GAAC,OAAIG,EAAMJ,OAAOC,IAAIC,SAAU,SAAAD,GAAC,OAAIG,EAAMF,SAASD,IAAItE,UAAU,cAAcgF,UAAQ,EAAC9E,GAAG,SAC3H+E,KAAK,SAASC,YAAY,QAC1BC,KAAK,UACPV,EAAMP,SAAWO,EAAMzB,SAAY,sBAAMoC,MAAO,CAAEC,MAAO,OAAtB,+GACnCZ,EAAMP,SAAWO,EAAMvB,SAAY,sBAAMkC,MAAO,CAAEC,MAAO,OAAtB,iIACrC,uBAAOvC,MAAO4B,EAAS5B,MAAOuB,OAAQ,SAAAC,GAAC,OAAII,EAASL,OAAOC,IAAIC,SAAU,SAAAD,GAAC,OAAII,EAASH,SAASD,IAAItE,UAAU,cAAcgF,UAAQ,EAAC9E,GAAG,WACpI+E,KAAK,WAAWC,YAAY,uCAASC,KAAK,aAC5CT,EAASR,SAAWQ,EAAS1B,SAAY,sBAAMoC,MAAO,CAAEC,MAAO,OAAtB,+GACzCX,EAASR,SAAWQ,EAAStB,gBAAmB,sBAAMgC,MAAO,CAAEC,MAAO,OAAtB,qEAChDX,EAASR,SAAWQ,EAASpB,gBAAmB,sBAAM8B,MAAO,CAAEC,MAAO,OAAtB,2EAClD,qBAAKrF,UAAU,6BAAf,SACI,wBAAQsF,UAAWb,EAAMjB,cAAgBkB,EAASlB,cAAgByB,EAAKzB,YAAa2B,KAAK,SACrFnF,UAAS,UAAOyE,EAAMjB,aAAgBkB,EAASlB,aAAgByB,EAAKzB,YACpC,eAA1B,yBAFV,+HAKR,sBAAKxD,UAAU,uBAAf,UACI,qJACA,cAAC,IAAD,CAAMmB,GAAG,UAAUnB,UAAU,aAA7B,mDCyBLyF,MApEf,SAAoBxE,GAChB,IAAMyE,EAAWC,OAAO1E,EAAMyE,UAIxBE,EAHW3E,EAAM4E,MAAMC,KAAI,SAACxB,GAC9B,OAAOA,EAAEyB,WAEaC,MAAK,SAAC1B,GAC5B,OAAOA,IAAMrD,EAAMgF,MAAM/F,MAE7B,EAAiCoB,oBAAS,GAA1C,mBAAO4E,EAAP,KAAgBC,EAAhB,KAiCA,OACI,sBAAKnG,UAAU,QAAf,UACI,mBAAGc,OAAO,SAASV,KAAMa,EAAMmF,YAAarF,IAAI,aAAhD,SACI,qBAAKf,UAAU,aAAaK,IAAKY,EAAMoF,KAAM9F,IAAI,gFAErD,sBAAKP,UAAU,mBAAf,UACI,sBAAKA,UAAU,wBAAf,UAEI,mBAAGA,UAAU,cAAb,SAA4BiB,EAAMgE,OAClC,mBAAGjF,UAAU,kBAAb,SAAgC0F,EAAW,GAAMY,KAAKC,MAAMb,EAAW,IAAM,SAAQA,EAAW,GAAK,SAAOA,EAAW,cAE3H,sBAAK1F,UAAU,wBAAf,UACI,cAAC,IAAD,CAAOyC,KAAK,UAAZ,SACI,wBAAQzC,UAAS,UAAMkG,GAAWN,EAAY,4BAA6B,sBAAwBT,KAAK,SAAS9C,QAAU6D,GAAWN,EAtBpI,WAClB,IAAM1F,EAAKe,EAAMgF,MAAM/F,GACjBsG,EAAMvF,EAAM4E,MAAMY,QAAO,SAAAC,GAAC,OAAIC,OAAOC,OAAOF,GAAGG,MAAK,SAAAvC,GAAC,OAAIA,IAAMpE,QAErEe,EAAM6F,WAAWN,EAAI,GAAGO,KAExBZ,GAAc,IA5BE,WAChBlF,EAAM+F,YAAY,CACdC,QAAShG,EAAMgF,MAAMgB,QACrBC,SAAUjG,EAAMgF,MAAMiB,SACtBxB,SAAUzE,EAAMgF,MAAMP,SACtByB,KAAMlG,EAAMgF,MAAMkB,KAClBC,YAAanG,EAAMgF,MAAMmB,YACzBC,MAAOpG,EAAMoF,KACbiB,QAASrG,EAAMgF,MAAMG,YACrBmB,UAAWtG,EAAMoF,KACjBN,QAAS9E,EAAMgF,MAAM/F,GACrBsH,OAAQvG,EAAMgF,MAAMuB,OACpBC,OAAQxG,EAAMgF,MAAMwB,OACpBC,MAAOzG,EAAM0G,KAAKZ,MAEtBZ,GAAc,QAgCF,cAAC,IAAD,CAAO1D,KAAK,gBAAZ,SACI,wBAAQzC,UAAU,sBAAsBmF,KAAK,SAAS9C,QA/BxD,WACdN,QAAQC,IAAIf,EAAMgF,MAAMc,KACxB9F,EAAM6F,WAAW7F,EAAMgF,MAAMc,oBC4FtBa,MAxHf,SAAwB3G,GAGpB,MAA8BK,mBAAS,IAAvC,mBAAOuG,EAAP,KAAcC,EAAd,KACA,EAAwBxG,mBAAS,GAAjC,mBAAOyG,EAAP,KAAaC,EAAb,KACA,EAA8B1G,mBAAS,GAAvC,mBAAO2G,EAAP,KAAgBC,EAAhB,KACA,EAAmC5G,oBAAS,GAA5C,mBAAO6G,EAAP,KAAkBC,EAAlB,KACA,EAA8B9G,mBAAS,CAAEG,MAAOC,OAAOC,aAAvD,mBAAOF,EAAP,KAAc4G,EAAd,KAkCA,SAASxG,IACLwG,EAAa,CAAE5G,MAAOC,OAAOC,aAyDjC,OA3FAW,qBAAU,WA2BN,OA1B0B,IAAtBrB,EAAMqH,KAAKxE,QACXsE,GAAc,GAGd3G,EAAMA,MAAQ,OACduG,EAAQ,GACRE,EAAW,GACXJ,EAAa7G,EAAMqH,KAAKC,MAAMtH,EAAMuH,QAASvH,EAAMuH,QAAU,KAE7D/G,EAAMA,OAAS,OACfuG,EAAQ,GACRE,EAAW,GACXJ,EAAa7G,EAAMqH,KAAKC,MAAMtH,EAAMuH,QAASvH,EAAMuH,QAAU,KAE7D/G,EAAMA,OAAS,MACfuG,EAAQ,GACRE,EAAW,GACXJ,EAAa7G,EAAMqH,KAAKC,MAAMtH,EAAMuH,QAASvH,EAAMuH,QAAU,KAE7D/G,EAAMA,MAAQ,MACduG,EAAQ,GACRE,EAAW,GACXJ,EAAa7G,EAAMqH,KAAKC,MAAMtH,EAAMuH,QAASvH,EAAMuH,QAAU,KAGjE9G,OAAOa,iBAAiB,SAAUV,GAC3B,WACHH,OAAOc,oBAAoB,SAAUX,MAE1C,CAACZ,EAAOA,EAAMuH,QAASvH,EAAMqH,KAAM7G,IA8DlC,qCACI,eAAC,IAAD,CAAOiB,OAAK,EAACD,KAAK,UAAlB,UACI,yBAASzC,UAAU,SAAnB,SAhBCiB,EAAMwH,aAAqC,IAAtBxH,EAAMqH,KAAKxE,OAAgB,mBAAG9D,UAAU,gBAAb,6GACnD6H,EAAM/B,KAAI,SAACG,GAAD,OAAY,cAAC,EAAD,CAAYJ,MAAO5E,EAAM4E,MAAO8B,KAAM1G,EAAM0G,KAAMb,WAAY7F,EAAM6F,WAAYE,YAAa/F,EAAM+F,YACvHf,MAAOA,EAAsBhB,KAAMgB,EAAMuB,OAAQ9B,SAAUO,EAAMP,SAAUU,YAAaH,EAAMG,YAAaC,KAAI,UAL3G,+BAK0HJ,EAAMoB,MAAMqB,MAAvHzC,EAAM/F,SAiBzB,qBAAKF,UAAS,UAAKmI,EAAY,YAAc,kBAA7C,SACI,wBAAQ9F,QA9DJ,WAChBN,QAAQC,IAAIf,EAAMqH,MACd7G,EAAMA,MAAQ,KACVsG,EAAOE,EAAUhH,EAAMqH,KAAKxE,QAC5BgE,EAAaD,EAAMc,OAAO1H,EAAMqH,KAAKC,MAAMR,EAAOE,EAAUF,EAAOE,EAAU,KAC7ED,EAAQD,EAAO,KAEfK,GAAc,GACdN,EAAa7G,EAAMqH,OAEhB7G,EAAMA,OAAS,MAAQA,EAAMA,MAAQ,IACxCsG,EAAOE,EAAUhH,EAAMqH,KAAKxE,QAC5BgE,EAAaD,EAAMc,OAAO1H,EAAMqH,KAAKC,MAAMR,EAAOE,EAAUF,EAAOE,EAAU,KAC7ED,EAAQD,EAAO,KAEfK,GAAc,GACdN,EAAa7G,EAAMqH,OAEhB7G,EAAMA,OAAS,KAAOA,EAAMA,MAAQ,IACvCsG,EAAOE,EAAUhH,EAAMqH,KAAKxE,QAC5BgE,EAAaD,EAAMc,OAAO1H,EAAMqH,KAAKC,MAAMR,EAAOE,EAAUF,EAAOE,EAAU,KAC7ED,EAAQD,EAAO,KAEfK,GAAc,GACdN,EAAa7G,EAAMqH,OAEhB7G,EAAMA,OAAS,MAClBsG,EAAOE,EAAUhH,EAAMqH,KAAKxE,QAC5BgE,EAAaD,EAAMc,OAAO1H,EAAMqH,KAAKC,MAAMR,EAAOE,EAAUF,EAAOE,EAAU,KAC7ED,EAAQD,EAAO,KAEfK,GAAc,GACdN,EAAa7G,EAAMqH,SA8BetI,UAAU,YAAxC,qCAGR,cAAC,IAAD,CAAOyC,KAAK,gBAAZ,SACI,yBAASzC,UAAU,SAAnB,SAjBCiB,EAAMwH,aAAqC,IAAtBxH,EAAMqH,KAAKxE,OAAgB,mBAAG9D,UAAU,gBAAb,6GACrDiB,EAAMqH,KAAKxC,KAAI,SAACG,GAAD,OAAY,cAAC,EAAD,CAAY0B,KAAM1G,EAAM0G,KAAM9B,MAAO5E,EAAMqH,KAAMA,KAAMrH,EAAMqH,KAAMxB,WAAY7F,EAAM6F,WAC5Gb,MAAOA,EAAuBhB,KAAMgB,EAAMuB,OAAQ9B,SAAUO,EAAMP,SAAUU,YAAaH,EAAMqB,QAASjB,KAAMJ,EAAMoB,OAAjGpB,EAAMc,gBClD1B6B,MAhDf,SAAoB3H,GAChB,MAA8BK,mBAAS,IAAvC,mBAAOuH,EAAP,KAAeC,EAAf,KACA,EAAiCxH,oBAAS,GAA1C,mBAAOyH,EAAP,KAAkBC,EAAlB,KA+BA,OA9BA1G,qBAAU,WACN,IAAM2G,EAAQC,aAAaC,QAAQ,aAChCF,GACCD,EAAYI,KAAKC,MAAMJ,MAE5B,IA0BC,sBAAKjJ,UAAU,kBAAf,UACI,uBAAM6E,SAvBO,SAACP,GAClBvC,QAAQC,IAAIf,EAAMqI,QAClBhF,EAAEQ,iBACF7D,EAAMsI,SAAStI,EAAMqI,OAAQT,GAC7B5H,EAAMuI,OACNzH,QAAQC,IAAI6G,IAkBsB7I,UAAU,aAAxC,UACI,uBAAOuE,SA3BE,SAACD,GAClBwE,EAAYxE,EAAExD,OAAOgC,QA0BkBkC,UAAQ,EAACE,YAAY,iCAAQC,KAAK,SAASnF,UAAU,sBAEpF,wBAAQsF,SAA4B,IAAlBuD,EAAO/E,OAAc9D,UAAS,UAAuB,IAAlB6I,EAAO/E,OAAe,8BAAgC,sBAAwBzB,QAASpB,EAAMwI,oBAItJ,uBAAOzJ,UAAU,uBAAuBE,GAAG,YAAYwJ,QAASX,EAAW5D,KAAK,WAAW9C,QArB1E,WACrB2G,GAAaD,GACVA,GACCG,aAAaS,QAAQ,YAAaP,KAAKQ,WAAU,IACjD3I,EAAMsI,SAAStI,EAAMqI,OAAQT,KAE7BK,aAAaS,QAAQ,YAAaP,KAAKQ,WAAU,IACjD3I,EAAM4I,WAAW5I,EAAMqH,MACvBrH,EAAM6I,mBAcN,uBAAO9J,UAAU,oBAAoB+J,QAAQ,YAA7C,4GCnCGC,MATf,WACI,OACI,qBAAKhK,UAAU,YAAf,SACI,qBAAKA,UAAU,uBAAf,SACI,sBAAMA,UAAU,0BCkBjBiK,MAff,SAAgBhJ,GAEZ,OACI,qCACI,cAAC,EAAD,CAAQ6I,aAAc7I,EAAM6I,aAAcN,KAAMvI,EAAMuI,OACtD,cAAC,EAAD,CAAYM,aAAc7I,EAAM6I,aAAcN,KAAMvI,EAAMuI,KAAMC,eAAgBxI,EAAMwI,eAAgBnB,KAAMrH,EAAMqH,KAAMuB,WAAY5I,EAAM4I,WAAYN,SAAUtI,EAAMsI,SAAUD,OAAQrI,EAAMqI,SAE7LrI,EAAMiJ,UAAY,cAAC,EAAD,CAAiBC,WAAYlJ,EAAMkJ,WAAY3B,QAASvH,EAAMuH,QAASC,YAAaxH,EAAMmJ,OAAQvE,MAAO5E,EAAM4E,MAAO8B,KAAM1G,EAAM0G,KAAMb,WAAY7F,EAAM6F,WAAYE,YAAa/F,EAAM+F,YAAasB,KAAMrH,EAAMqH,OAAW,cAAC,EAAD,IAGhP,cAAC,EAAD,QCDG+B,MAXf,SAAqBpJ,GACjB,OACI,qCACI,cAAC,EAAD,CAAQ6I,aAAc7I,EAAM6I,aAAcN,KAAMvI,EAAMuI,OACtD,cAAC,EAAD,CAAYM,aAAc7I,EAAM6I,aAAcN,KAAMvI,EAAMuI,KAAMC,eAAgBxI,EAAMwI,eAAgBnB,KAAMrH,EAAMqH,KAAMuB,WAAY5I,EAAM4I,WAAYN,SAAUtI,EAAMsI,SAAUD,OAAQrI,EAAMqI,SAC9L,cAAC,EAAD,CAAgBb,YAAaxH,EAAMmJ,OAAQzC,KAAM1G,EAAM0G,KAAMb,WAAY7F,EAAM6F,WAAYwB,KAAMrH,EAAMqH,OACvG,cAAC,EAAD,QCVCgC,EAAqBjJ,IAAMkJ,gBC2DTC,MAvD/B,SAAiBvJ,GACb,IAAM0G,EAAOtG,IAAMoJ,WAAWH,GAC9B,EAA4BjJ,IAAMC,SAAS,IAA3C,mBAAOmD,EAAP,KAAciG,EAAd,KACA,EAA0BrJ,IAAMC,SAAS,IAAzC,mBAAO2D,EAAP,KAAa0F,EAAb,KAYA,OAEQ,qCACI,cAAC,EAAD,IACA,yBAAS3K,UAAU,UAAnB,SACI,uBAAMA,UAAU,gBAAgB6E,SAThD,SAAsBP,GAClBA,EAAEQ,iBACF7D,EAAM2J,SAAS,CAAEnG,QAAOQ,UAOZ,UACI,qBAAIjF,UAAU,gBAAd,mDACa2H,EAAK1C,KADlB,QAIA,sBAAKjF,UAAU,2BAAf,UACI,sBAAKA,UAAU,gCAAf,UACI,sBAAMA,UAAU,gBAAhB,gCAGA,uBAAOgF,UAAQ,EAACT,SAvB5C,SAAyBD,GACrBqG,EAAUrG,EAAExD,OAAOgC,QAsBgD9C,UAAU,iBAAiBkF,YAAayC,EAAK1C,UAE5F,sBAAKjF,UAAU,iCAAf,UACI,sBAAMA,UAAU,gBAAhB,4CAGA,uBAAOgF,UAAQ,EAACT,SAhC5C,SAA0BD,GACtBoG,EAAWpG,EAAExD,OAAOgC,QA+BgD9C,UAAU,iBAAiBkF,YAAayC,EAAKlD,cAGjG,sBAAKzE,UAAU,4BAAf,UACI,wBAAQsF,SAA0B,IAAhBL,EAAKnB,QAAiC,IAAjBW,EAAMX,OAAc9D,UAAU,sBAArE,4FAIA,cAAC,IAAD,CAAMA,UAAU,mBAAmBqC,QAASpB,EAAM4J,UAAW1J,GAAG,IAAhE,sH,gBChDP2J,E,WAEjB,WAAYC,GAAU,oBAClBC,KAAKC,QAAUF,EAAQE,QACvBD,KAAKE,QAAUH,EAAQG,Q,+CAE3B,WACI,OAAOC,MAAM,GAAD,OAAIH,KAAKC,QAAT,aAA6B,CACrCG,OAAQ,MACRF,QAASF,KAAKE,UAEbG,MAAK,SAACC,GACH,OAAIA,EAAIC,GACGD,EAAIE,OAERC,QAAQC,OAAR,gBAAwBJ,EAAIK,c,4BAG/C,SAAe5E,GACX,OAAOoE,MAAM,GAAD,OAAIH,KAAKC,QAAT,WAA2B,CACnCG,OAAQ,MACRF,QAASF,KAAKE,UAGbG,MAAK,SAACC,GACH,OAAIA,EAAIC,GACGD,EAAIE,OAERC,QAAQC,OAAR,gBAAwBJ,EAAIK,c,qBAG/C,YAA8B,IAApBlH,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,SACb,OAAOyG,MAAM,GAAD,OAAIH,KAAKC,QAAT,WAA2B,CACnCG,OAAQ,OACRF,QAAS,CACL,eAAgB,oBAEpBU,KAAMxC,KAAKQ,UAAU,CAAEnF,QAAOC,eAC/B2G,MAAK,SAACC,GACL,OAAIA,EAAIC,GACGD,EAAIE,OAERC,QAAQC,OAAR,gBAAwBJ,EAAIK,c,wBAI3C,YAAuC,IAA1BlH,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,SAAUO,EAAQ,EAARA,KAC1B,OAAOkG,MAAM,GAAD,OAAIH,KAAKC,QAAT,WAA2B,CACnCG,OAAQ,OACRF,QAAS,CACL,eAAgB,oBAEpBU,KAAMxC,KAAKQ,UAAU,CAAEnF,QAAOC,WAAUO,WACzCoG,MAAK,SAACC,GACL,OAAIA,EAAIC,GACGD,EAAIE,OAGRC,QAAQC,OAAR,gBAAwBJ,EAAIK,c,wBAI3C,SAAWE,GAEP,OAAOV,MAAM,GAAD,OAAIH,KAAKC,QAAT,aAA6B,CACrCG,OAAQ,MACRF,QAAS,CACL,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BW,MAEhCR,MAAK,SAACC,GACL,OAAIA,EAAIC,GACGD,EAAIE,OAERC,QAAQC,OAAR,gBAAwBJ,EAAIK,c,4BAK3C,SAAeG,GACX,OAAOX,MAAM,GAAD,OAAIH,KAAKC,QAAT,aAA6B,CACrCG,OAAQ,QACRF,QAASF,KAAKE,QACdU,KAAME,IAELT,MAAK,SAACC,GACH,OAAIA,EAAIC,GACGD,EAAIE,OAERC,QAAQC,OAAR,gBAAwBJ,EAAIK,c,+BAK/C,SAAkBG,GACd,OAAOX,MAAM,GAAD,OAAIH,KAAKC,QAAT,WAA2B,CACnCG,OAAQ,OACRF,QAASF,KAAKE,QACdU,KAAME,IAELT,MAAK,SAACC,GACH,OAAIA,EAAIC,GACGD,EAAIE,OAERC,QAAQC,OAAR,gBAAwBJ,EAAIK,c,wBAI/C,SAAW5E,GACP,OAAOoE,MAAM,GAAD,OAAIH,KAAKC,QAAT,mBAA2BlE,GAAO,CAC1CqE,OAAQ,SACRF,QAASF,KAAKE,UAEbG,MAAK,SAACC,GACH,OAAIA,EAAIC,GACGD,EAAIE,OAERC,QAAQC,OAAR,gBAAwBJ,EAAIK,gB,KC1FlCI,EARH,IApBd,WACI,WAAYhB,GAAU,oBACpBC,KAAKC,QAAUF,EAAQE,QACvBD,KAAKE,QAAUH,EAAQG,QAH7B,gDAMI,WACE,OAAOC,MAAM,+CAAgD,CAC3DC,OAAQ,QAEPC,MAAK,SAACC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gBAAwBJ,EAAIK,gBAd7C,KAoBc,CAAQ,CAClBV,QAAS,iDACTC,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BhC,aAAaC,QAAQ,a,wBCbvC6C,EARQ,SAAC,GAA0C,IAA5BC,EAA2B,EAAtCC,UAAyBjL,EAAa,iBAC7D,OACE,cAAC,IAAD,CAAOwB,KAAK,IAAZ,SACGxB,EAAMkL,SAAW,cAACF,EAAD,eAAchL,IAAW,cAAC,IAAD,CAAUE,GAAG,eCiBjDiL,MApBf,SAAsBnL,GAClB,IAAMoL,EAAUC,cAShB,OAHAhK,qBAAU,WACNP,QAAQC,IAAIqK,MAGZ,sBAAKrM,UAAU,YAAf,UACI,qBAAIA,UAAU,mBAAd,iBACQ,uBAAS,mBAAGA,UAAU,sBAAb,yHAGjB,wBAAQA,UAAU,6BAA6BqC,QAd/B,WACpBN,QAAQC,IAAI,4BACZD,QAAQC,IAAIf,EAAM0B,YAClB0J,EAAQE,IAAI,IAWR,gDCnBG,MAA0B,sCCe1BC,MAdf,SAAevL,GACX,OACI,qBAAKjB,UAAS,UAAKiB,EAAMC,OAAS,QAAU,gBAA5C,SACI,sBAAKlB,UAAU,mBAAf,UACA,wBAAQmF,KAAK,SACTnF,UAAU,6CACVqC,QAASpB,EAAMwL,UAFnB,SAGQ,qBAAKzM,UAAU,4BAA4BK,IAAKqM,EAAOnM,IAAI,iDAE/D,mBAAGP,UAAU,cAAb,SAA4BiB,EAAM0L,aAAe,8KAAoC,+GC6PtFC,MAzPf,WACI,IAAMP,EAAUC,cAChB,EAA0CjL,IAAMC,SAAS,IAAzD,mBAAOuL,EAAP,KAAoBC,EAApB,KACA,EAAoCzL,IAAMC,SAAS,IAAnD,mBAAOyL,EAAP,KAAmBC,EAAnB,KACA,EAA+B3L,IAAMC,UAAS,GAA9C,mBAAO6K,EAAP,KAAiBxJ,EAAjB,KACA,EAAwCtB,IAAMC,SAAS,IAAvD,mBAAO2L,EAAP,KAAqBC,EAArB,KACA,EAAkD7L,IAAMC,SAAS,IAAjE,mBAAO6L,EAAP,KAA0BC,EAA1B,KACA,EAAsC/L,IAAMC,SAAS,IAArD,mBAAO+L,EAAP,KAAoBC,EAApB,KACA,EAAkCjM,IAAMC,UAAS,GAAjD,mBAAOiM,EAAP,KAAkBC,EAAlB,KACA,EAAsCnM,IAAMC,UAAS,GAArD,mBAAOmH,EAAP,KAAoBgF,EAApB,KACA,EAAwCpM,IAAMC,SAAS,GAAvD,mBAAOoM,EAAP,KAAqBC,EAArB,KACA,EAAwCtM,IAAMC,SAAS,MAAvD,oBAAOqL,GAAP,MAAqBiB,GAArB,MACA,GAA4BvM,IAAMC,UAAS,GAA3C,qBAAOJ,GAAP,MAAeuL,GAAf,MACA,GAAkCpL,IAAMC,UAAS,GAAjD,qBAAOuM,GAAP,MAAkB/D,GAAlB,MACMgE,GAAWC,cACXC,GAAU,IAAIlD,EAAK,CACrBG,QAAS,gDACTC,QAAS,CACL,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BhC,aAAaC,QAAQ,aAGlD8E,GAAa5M,IAAM6M,aACrB,WACI,IAAMrC,EAAQ3C,aAAaC,QAAQ,SAC/B0C,GACAmC,GAAQC,WAAWpC,GACdR,MAAK,SAACS,GACCA,IACA/J,QAAQC,IAAI8J,EAAKrH,OACjB0J,KACA9B,EAAQ+B,KAAKN,GAASO,cAE3BC,OAAM,SAAAC,GAAG,OAAIC,MAAMD,QAE/B,IA0FP,SAASxJ,GAAT,GAAuC,IAApBN,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,SACtBsJ,GAAQjJ,QAAQ,CAAEN,QAAOC,aACpB2G,MAAK,SAACS,GACH,IAAMxC,EAASJ,aAAaC,QAAQ,UAC/BG,EAOD0D,EAAc5D,KAAKC,MAAMC,IANzBmF,EAAUC,eACLrD,MAAK,SAACS,GACHkB,EAAclB,GACd5C,aAAaS,QAAQ,SAAUP,KAAKQ,UAAUkC,OAK1D5C,aAAaS,QAAQ,QAASmC,EAAKD,OACnCiB,EAAmBhB,EAAKnE,MACxBwG,KACA9B,EAAQ+B,KAAK,cACdE,OAAM,SAAAC,GACL9B,IAAU,GACVmB,IAAgB,MAG5B,SAASO,KACLxL,GAAW,GA8Bf,SAASmE,GAAWC,GAChBiH,GAAQW,WAAW5H,GACdsE,MAAK,SAAAuD,GAAC,OACHtB,EAAeD,EAAY5G,QAAO,SAACoI,GAAD,OAAQlI,OAAOC,OAAOiI,GAAIC,OAAM,SAACC,GAAD,OAAUA,IAAShI,YAExFuH,OAAM,SAAAC,GAAG,OAAIC,MAAMD,MAlJ5BlN,IAAMiB,WAAU,WACZ,IAAMgH,EAASJ,aAAaC,QAAQ,UAC9B6F,EAAY9F,aAAaC,QAAQ,aAEzBD,aAAaC,QAAQ,WAE/BpH,QAAQC,IAAI,SACZiM,KAEAD,GAAQiB,cACH5D,MAAK,SAAAS,GACFgB,EAAmBhB,MAEtBwC,OAAM,SAAAC,GAAG,OAAIC,MAAMD,MAEpBS,GACA9B,EAAgB9D,KAAKC,MAAM2F,IAE/BhB,GAAQkB,iBACH7D,MAAK,SAACS,GACH/J,QAAQC,IAAI8J,GACZwB,EAAexB,MAChBwC,OAAM,SAAAC,GAAG,OAAIC,MAAMD,OAGzBjF,EAOD0D,EAAc5D,KAAKC,MAAMC,IANzBmF,EAAUC,eACLrD,MAAK,SAACS,GACHkB,EAAclB,GACd5C,aAAaS,QAAQ,SAAUP,KAAKQ,UAAUkC,SAM3D,CAACmC,KA8HJ,IAAMkB,GAAS,WACX3B,EAAaD,IAGX6B,GAAmB,WACrB5B,GAAcD,GACd8B,WAAWF,GAAQ,MAEjBG,GAAiB,WACnB7B,GAAgBhF,IAEd8G,GAAiB,WACnBzF,IAAc+D,KAElB,OACI,cAACvD,EAAmBkF,SAApB,CAA6B1M,MAAO+J,EAApC,SACI,sBAAK7M,UAAU,MAAf,UACI,eAAC,IAAD,CAAQqM,QAASA,EAAjB,UACI,cAAC,EAAD,CAAgBvC,aAAcyF,GAAgBpF,WAAYwD,EAAiBnF,QAASkF,EAActD,OAAQ3B,EAAae,KAAM8F,GAAgB7F,eAAgB2F,GACzJlF,UAAWqD,EAAW5F,KAAMkF,EAAavD,OAAQyD,EAAY/F,YAhDjF,SAAqB8E,GACjBkC,GAAQyB,kBAAkBrG,KAAKQ,UAAUkC,IACpCT,MAAK,SAAAS,GAEFuB,EAAYe,KAAKtC,MAGnBwC,OAAM,SAAAC,GAAG,OAAIC,MAAMD,OAyC8E1I,MAAOwH,EAAavG,WAAYA,GACvH+C,WA5HW,SAAC6F,GAC5BxC,GAAgB,WACZ,IAAI8B,EAGJ,OAFAA,EAAYjC,EAAWtG,QAAO,SAAAC,GAAC,QAAMA,EAAEhB,SAAW,OAClDwD,aAAaS,QAAQ,YAAaP,KAAKQ,UAAUoF,IAC1CA,MAuHyC7C,SAAUA,EAAU5C,SAhJvD,SAACmG,EAAKC,GACvBzC,GAAgB,WACZ,IAAI8B,EAGJ,OAFAA,EAAYjC,EAAWtG,QAAO,SAAAR,GAAK,OAAIU,OAAOC,OAAOX,GAAOD,MAAK,SAAAlD,GAAK,MAAqB,kBAAVA,GAAsBA,EAAMe,cAAc+L,SAASD,EAAM9L,qBAC1IqF,aAAaS,QAAQ,YAAaP,KAAKQ,UAAUoF,IAC1CA,KAEXjN,QAAQC,IAAIiL,GACZU,EAAgB,IAwIgFrF,KAAM2E,EAAcf,UAAWjC,EAAQxH,KAAK,YAGhI,cAAC,EAAD,CAAgBqH,aAAcyF,GAAgBnF,OAAQ3B,EAAae,KAAM8F,GAAgB3H,KAAMkF,EAC3FtD,SAzIM,SAACmG,EAAKC,GAC5BvC,GAAqB,WAGjB,OADYC,EAAY5G,QAAO,SAAAR,GAAK,OAAIU,OAAOC,OAAOX,GAAOD,MAAK,SAAAlD,GAAK,MAAqB,kBAAVA,GAAsBA,EAAMe,cAAc+L,SAASD,EAAM9L,wBAG/I9B,QAAQC,IAAIqL,IAmIiC5D,eAAgB2F,GAAkBlF,UAAWqD,EAAWpB,SAAUA,EAAUtC,WAtHzF,SAAC6F,GACjCtC,GAAqB,WAGjB,OADYsC,EAAIjJ,QAAO,SAAAC,GAAC,QAAMA,EAAEhB,SAAW,WAoH/BoB,WAAYA,GAAYwB,KAAOG,GAAeoF,GAAaV,EAAoBE,EAAa/D,OAAQ+D,EAAanB,UAAW7B,EAAa5H,KAAK,kBAGlJ,cAAC,EAAD,CAAgBkK,aAAcA,GAAc9B,UAxC5D,WACI3B,aAAa2G,WAAW,SACxB3G,aAAa2G,WAAW,aACxB3G,aAAa2G,WAAW,aACxB3G,aAAa2G,WAAW,UAIxBxD,EAAQ+B,KAAK,WACbzL,GAAW,IA+BmEwJ,SAAUA,EACxExE,KAAMkF,EAAajC,SA1EvC,SAAyBkB,GACrBkC,GAAQ8B,eAAe1G,KAAKQ,UAAUkC,IACjCT,MAAK,SAACS,GACHgB,EAAmBhB,GACnB8B,IAAgB,GAChBnB,IAAU,MACX6B,OAAM,SAAAC,GACL9B,IAAU,GACVmB,IAAgB,GAChBY,MAAMD,OAiEgDrC,UAAW1B,EAAS/H,KAAK,aAG3E,cAAC,IAAD,CAAOC,OAAK,EAACD,KAAK,IAAlB,SACI,cAAC,EAAD,CAAME,WAAYwJ,MAEtB,cAAC,IAAD,CAAO1J,KAAK,UAAZ,SACI,cAAC,EAAD,CAAOsC,QAASA,OAEpB,cAAC,IAAD,CAAOtC,KAAK,UAAZ,SACI,cAAC,EAAD,CAAU+C,WA5H9B,YAAgD,IAA1Bf,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,SAAUO,EAAQ,EAARA,KACnC+I,GAAQxI,WAAW,CAAEf,QAAOC,WAAUO,SACjCoG,MAAK,SAACS,GACHgB,EAAmBhB,GACnB/G,GAAQ,CAAEN,QAAOC,aACjB2H,EAAQ+B,KAAK,cACdE,OAAM,SAACC,GACN9B,IAAU,GACVmB,IAAgB,WAsHZ,cAAC,IAAD,CAAOnL,KAAK,IAAZ,SACI,cAAC,EAAD,CAAcE,WAAYwJ,SAIlC,cAAC,EAAD,CAAOQ,aAAcA,GAAczL,OAAQA,GAAQuL,UA9EpC,WACvBA,IAAU,YCzKHsD,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB5E,MAAK,YAAkD,IAA/C6E,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.f7b6b437.chunk.js","sourcesContent":["function Promo(){\r\n    return(\r\n        <section className='promo'>\r\n            <div className='promo__cover'>\r\n                <p className='promo__text'>Учебный проект студента факультета Веб-разработки.</p>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\nexport default Promo;","function Techs() {\r\n    return (\r\n        <section className='techs' id='techs'>\r\n            <div className='techs__container'>\r\n                <h2 className='techs__heading'>Технологии</h2>\r\n                <h3 className='techs__heading_big'>7 технологий\r\n                <p className='techs__text'>На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.</p>\r\n                </h3>     \r\n                <ul className=\"techs__list\">\r\n                    <li className='techs__list-item'>\r\n                        HTML\r\n                    </li>\r\n                    <li className='techs__list-item'>\r\n                        CSS\r\n                    </li>\r\n                    <li className='techs__list-item'>\r\n                        JS\r\n                    </li>\r\n                    <li className='techs__list-item'>\r\n                        React\r\n                    </li>\r\n                    <li className='techs__list-item'>\r\n                        Git\r\n                    </li>\r\n                    <li className='techs__list-item'>\r\n                        Express.js\r\n                    </li>\r\n                    <li className='techs__list-item'>\r\n                        mongoDB\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\nexport default Techs;","export default __webpack_public_path__ + \"static/media/me.c1acb20f.jpg\";","import me from '../../images/me.jpg'\r\nfunction AboutMe() {\r\n    return (\r\n        <div className='aboutme' id='student'>\r\n            <h2 className=\"aboutme__heading\">Студент</h2>\r\n            <div className='aboutme__container'>\r\n            <div className='aboutme__text-elems-container'>\r\n                \r\n                <p className='aboutme__name'>Коля</p>\r\n                <p className='aboutme__shortinfo'>Человек, 22 года</p>\r\n                <article className='aboutme__article'>Родился и живу в Санкт-Петербурге.\r\n                    Программировать начал почему? Это я еще не начал даже.\r\n                    Люблю рисовать, петь(это секрет), танцевать(самый страшный секрет), играю в гляделки с солнцем.\r\n                </article>\r\n                <div className='aboutme__social'>\r\n                    <a  href='https://vk.com/id340609519' className='aboutme__link'>VK</a>\r\n                    <a href='https://github.com/newbiegoingpro' className='aboutme__link'>Github</a>\r\n                </div>\r\n\r\n            </div>\r\n            \r\n            <img className='aboutme__photo' src={me} alt='Фотография автора' />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default AboutMe;","function AboutProject() {\r\n    return (\r\n        <section className='aboutProject' id='project'>\r\n            <h2 className='aboutProject__heading'>О проекте</h2>\r\n            <div className='aboutProject__grid'>\r\n                <h3 className='aboutProject__grid__heading aboutProject__grid__heading_order-0'>Дипломный проект включал 5 этапов</h3>\r\n                <h3 className='aboutProject__grid__heading aboutProject__grid__heading_order-2'>На выполнение диплома ушло 5 недель</h3>\r\n                <p className='aboutProject__grid__text aboutProject__grid__text_order-1'>Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.</p>\r\n                <p className='aboutProject__grid__text aboutProject__grid__text_order-3'>У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.</p>\r\n            </div>\r\n            <div className='aboutProject__grid_bottom'>\r\n                <div className='aboutProject_green'><span className='aboutProject__grid__text_span'>1 неделя</span></div>\r\n                <div className='aboutProject_grey'><span className='aboutProject__grid__text_span'>4 недели</span></div>\r\n                <p className='aboutProject__text-under'>Back-end</p>\r\n                <p className='aboutProject__text-under'>Front-end</p>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\nexport default AboutProject;","function NavTab(){\r\n    return(\r\n        <nav className='navtab'>\r\n            \r\n            <button className='navtab__btn'><a className='navtab__link' href='#project'>О проекте</a></button>\r\n            <button className='navtab__btn'><a className='navtab__link' href='#techs'>Технологии</a></button>\r\n            <button className='navtab__btn'><a className='navtab__link' href='#student'>Студент</a></button>\r\n            \r\n        </nav>\r\n    )\r\n}\r\nexport default NavTab;","function Portfolio() {\r\n    return (\r\n        <section className='portfolio'>\r\n            <h2 className='portfolio__heading'>Портфолио</h2>\r\n            <ul className='portfolio__list'>\r\n               <li className='portfolio__list-item'> <a href='https://github.com/newbiegoingpro/how-to-learn' className='portfolio__link'>Статичный сайт </a><span className='portfolio__arrow'>&rarr;</span></li> \r\n               <li className='portfolio__list-item'> <a href='https://newbiegoingpro.github.io/russian-travel/' className='portfolio__link'>Адаптивный сайт </a><span className='portfolio__arrow'>&rarr;</span></li> \r\n              <li className='portfolio__list-item'>  <a href='https://newbiegoingpro.github.io/react-mesto-auth/#/' className='portfolio__link'>Одностраничное приложение </a><span className='portfolio__arrow'>&rarr;</span></li> \r\n            </ul>\r\n        </section>\r\n    )\r\n}\r\nexport default Portfolio;","function Footer() {\r\n    return (\r\n        <footer className='footer'>\r\n            <div className='footer__top'>Учебный проект Яндекс.Практикум х BeatFilm.</div>\r\n            <div className='footer__bottom'>\r\n                <p className=\"footer__copyright\">&copy; {new Date().getFullYear()}</p>\r\n                <div className='footer__social'>\r\n                    <a target='_blank' href={`https://practicum.yandex.ru/`} className='footer__contact' rel=\"noreferrer\">Яндекс.Практикум</a>\r\n                    <a target='_blank' href={`https://github.com/yandex-praktikum`} className='footer__contact' rel=\"noreferrer\">Github</a>\r\n                    <a target='_blank' href={`https://www.facebook.com/yandex.practicum`} className='footer__contact' rel=\"noreferrer\">Facebook</a>\r\n                </div>\r\n            </div>\r\n\r\n        </footer>\r\n    )\r\n}\r\nexport default Footer;","export default __webpack_public_path__ + \"static/media/logo.c1b0ba1c.svg\";","export default __webpack_public_path__ + \"static/media/burgir.5809d10a.svg\";","export default __webpack_public_path__ + \"static/media/Group.80dfd5bd.svg\";","import { Link } from 'react-router-dom';\r\n\r\nfunction Menu(props) {\r\n\r\n    return (\r\n        <div className={`overlay ${props.isOpen ? 'overlay_opened' : ''}`}>\r\n\r\n            <div className={` header__menu  ${props.isOpen ? 'header__menu_active' : ' '}`} >\r\n                <div className='menu__list'>\r\n                    <Link className=\"header__link\" to='/'>Главная</Link>\r\n                    <Link className=\"header__link\" to='/movies'>Фильмы</Link>\r\n                    <Link className=\"header__link\" to='/saved_movies'>Сохранённые фильмы</Link>\r\n                </div>\r\n                <Link className=\"header__link header__link_account\" to='/profile'>Аккаунт</Link>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default Menu;","import logo from '../../images/logo.svg';\r\nimport { Link, Route, } from 'react-router-dom';\r\nimport React from 'react';\r\nimport burgir from '../../images/burgir.svg';\r\nimport menuClose from '../../images/Group.svg';\r\nimport Menu from '../Menu/Menu';\r\nfunction Header(props) {\r\n    const [isMenuOpen, handleMenuVisibility] = React.useState(false);\r\n    const [width, measureHeaderWidth] = React.useState({ width: window.innerWidth });\r\n    React.useEffect(() => {\r\n        window.addEventListener('resize', checkWindowsWidth)\r\n        return () => {\r\n            window.removeEventListener('resize', checkWindowsWidth)\r\n        }\r\n    }, [width]\r\n    )\r\n    function checkWindowsWidth() {\r\n        measureHeaderWidth({ width: window.innerWidth })\r\n    }\r\n    function handleMenuClick() {\r\n        handleMenuVisibility(!isMenuOpen);\r\n        console.log('react is dumb')\r\n    }\r\n   /* const onRouteChange = () => {\r\n        props.subm();\r\n        props.setIsPressed();\r\n    }*/\r\n    function getLoggedHeaderLayout() {\r\n        if (width.width > 768) {\r\n            return (\r\n                <>\r\n                    <Link to='/'>\r\n                        <img alt='Логотип' src={logo} className='header__logo' />\r\n                    </Link>\r\n\r\n\r\n                    <div className=\"header__container\">\r\n                        <Link className=\"header__link header__link_marg\" to='/movies'>Фильмы</Link>\r\n                        <Link className=\"header__link\" to='/saved_movies'>Сохранённые фильмы</Link>\r\n                    </div>\r\n                    <Link className=\"header__link header__link_account\" to='/profile'>Аккаунт</Link>\r\n                </>\r\n            )\r\n        } else {\r\n            return (\r\n                <>\r\n                    <Link to='/'>\r\n                        <img alt='Логотип' src={logo} className='header__logo' />\r\n                    </Link>\r\n\r\n                    <Menu isOpen={isMenuOpen} />\r\n                    <img\r\n                        className={` ${isMenuOpen ? 'header__hamburger-btn_active' : 'header__hamburger-btn'}`}\r\n                        src={isMenuOpen ? menuClose : burgir} alt='кнопка меню' onClick={handleMenuClick}\r\n                    />\r\n                </>\r\n            )\r\n        }\r\n    }\r\n    return (\r\n        <header className=\"header\">\r\n            <Route path={[\"/signin\", \"/signup\"]}>\r\n                <Link to='/'>\r\n                    <img alt='Логотип' src={logo} className='header__logo_form' />\r\n                </Link>\r\n\r\n            </Route>\r\n\r\n            <Route exact path='/'>\r\n                {props.isLoggedIn ?\r\n                    getLoggedHeaderLayout()\r\n                    :\r\n                    <>\r\n                        <Link to='/'>\r\n                            <img alt='Логотип' src={logo} className='header__logo' />\r\n                        </Link>\r\n\r\n                        <div className=\"header__container\">\r\n                            <Link className='header__link' to='/signup'>Регистрация</Link>\r\n                            <button className='header__login-btn'><Link className='header__link' to='/signin'>Войти</Link></button>\r\n                        </div>\r\n                    </>\r\n                }\r\n\r\n            </Route>\r\n            <Route path={[\"/movies\", \"/saved_movies\", \"/profile\"]}>\r\n                {getLoggedHeaderLayout()}\r\n            </Route>\r\n        </header>\r\n    )\r\n}\r\nexport default Header;","import Promo from '../Promo/Promo';\r\nimport Techs from '../Tech/Techs';\r\nimport AboutMe from '../AboutMe/AboutMe';\r\nimport AboutProject from '../AboutProject/AboutProject';\r\nimport NavTab from '../NavTab/NavTab';\r\nimport Portfolio from '../Portfolio/Portfolio';\r\nimport Footer from '../Footer/Footer';\r\nimport Header from '../Header/Header';\r\nfunction Main(props) {\r\n    return (\r\n        <>\r\n            <Header isLoggedIn={props.isLoggedIn}/>\r\n            <Promo/>\r\n            <NavTab/>\r\n            <AboutProject/>\r\n            <Techs/>\r\n            <AboutMe/>\r\n            <Portfolio/>\r\n            <Footer/>\r\n        </>\r\n    )\r\n}\r\nexport default Main;","import { useEffect, useState } from \"react\";\r\n\r\nconst useValidation = (value, validations) => {\r\n    const [isEmpty, setIsEmpty] = useState(true);\r\n    const [isEmail, setEmailError] = useState(false);\r\n    const [minLengthError, setMinLengthError] = useState(false);\r\n    const [maxLengthError, setMaxLengthError] = useState(false);  \r\n    const [isFormValid, setFormValidity] = useState(false); \r\n    useEffect(() => {\r\n        for (const validation in validations) {        \r\n            switch (validation) {\r\n                case 'isEmpty':\r\n                    \r\n                    value ? setIsEmpty(false) : setIsEmpty(true);\r\n                    break\r\n                case 'isEmail':\r\n                    \r\n                    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n                    re.test(String(value).toLowerCase()) ? setEmailError(false) : setEmailError(true);\r\n                    break\r\n                case 'minLength':\r\n                    \r\n                    value.length < validations[validation] ? setMinLengthError(true) : setMinLengthError(false);\r\n                    break\r\n                case 'maxLength':\r\n                    \r\n                    value.length > validations[validation] ? setMaxLengthError(true) : setMaxLengthError(false);\r\n                    break\r\n\r\n                }\r\n        }\r\n    }, [validations, value]\r\n    )\r\n    useEffect(() => {\r\n        if(isEmail || isEmpty || maxLengthError || minLengthError){\r\n            setFormValidity(false);\r\n        } else { \r\n            setFormValidity(true);\r\n        }\r\n    }, [isEmail, isEmpty, maxLengthError, minLengthError])\r\n    return{\r\n        minLengthError,\r\n        maxLengthError,\r\n        isEmail,\r\n        isEmpty,\r\n        isFormValid\r\n    }\r\n}\r\nexport default useValidation;","import useValidation from \"./useValidation\";\r\nimport { useState } from \"react\";\r\nconst useInput = (initialValue, validations) => {\r\n    const [value, setValue] = useState('');\r\n    const [isDirty, setIsDirty] = useState(false);\r\n    const validity = useValidation(value, validations);\r\n    const onChange = (e) => {\r\n        setValue(e.target.value);\r\n    }\r\n\r\n    const onBlur = (e) => {\r\n        setIsDirty(true);\r\n    }\r\n\r\n    return {\r\n        value,\r\n        onBlur,\r\n        onChange, \r\n        isDirty, \r\n        ...validity\r\n    }\r\n}\r\nexport default useInput;","import Header from \"../Header/Header\";\r\nimport { Link } from 'react-router-dom';\r\nimport React from \"react\";\r\nimport useInput from \"../../utils/customHooks/useInput\";\r\nimport useValidation from \"../../utils/customHooks/useValidation\";\r\nfunction Login(props) {\r\n    const email = useInput('', { isEmpty: true, isEmail: true });\r\n    const password = useInput('', { isEmpty: true, minLength: 2, maxLength: 24 });\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onLogin({ email: email.value, password: password.value, })\r\n    }\r\n    return (\r\n            <div className=\"login\">\r\n                <Header />\r\n                <form className=\"form\" onSubmit={handleSubmit}>\r\n                    <p className=\"form__heading\">Рады видеть!</p>\r\n                    <input value={email.value} onBlur={e => email.onBlur(e)} onChange={e => email.onChange(e)}  className=\"form__input\" required id=\"E-mail\"\r\n                        name=\"E-mail\" placeholder=\"Email\"\r\n                        type=\"email\" />\r\n                    {(email.isDirty && email.isEmpty) && <span style={{ color: 'red' }}>Обязательное поле</span>}\r\n                    {(email.isDirty && email.isEmail) && <span style={{ color: 'red' }}>Введен некорректный email</span>}\r\n                    <input value={password.value} onBlur={e => password.onBlur(e)} onChange={e => password.onChange(e)} className=\"form__input\" required id=\"password\"\r\n                        name=\"password\" placeholder=\"Пароль\" type=\"password\"\r\n                    />\r\n                    {(password.isDirty && password.isEmpty) && <span style={{ color: 'red' }}>Обязательное поле</span>}\r\n                    {(password.isDirty && password.minLengthError) && <span style={{ color: 'red' }}>Мало букав</span>}\r\n                    {(password.isDirty && password.maxLengthError) && <span style={{ color: 'red' }}>Многа букав</span>}\r\n                    <div className=\"login__button-container\">\r\n                        <button disabled={!email.isFormValid || !password.isFormValid} type=\"submit\" className={`  ${(!email.isFormValid || !password.isFormValid)\r\n                             ? 'form__button_disabled' : 'form__button'}`}>Войти</button>\r\n                    </div>\r\n                </form>\r\n                <div className=\"form__link-container\">\r\n                    <p>Ещё не зарегистрированы?</p>\r\n                    <Link to=\"/signup\" className=\"form__link\">Регистрация\r\n                    </Link>\r\n                </div>\r\n            </div>   \r\n    )\r\n}\r\nexport default Login;","/* eslint-disable default-case */\r\nimport Header from \"../Header/Header\";\r\nimport { Link } from 'react-router-dom';\r\nimport React, { } from \"react\";\r\nimport useInput from \"../../utils/customHooks/useInput\";\r\n\r\n\r\n\r\nfunction Register(props) {\r\n    const email = useInput('', { isEmpty: true, isEmail: true });\r\n    const password = useInput('', { isEmpty: true, minLength: 2, maxLength: 24 });\r\n    const name = useInput('', { isEmpty: true, minLength: 2, maxLength: 30 });\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onRegister({ email: email.value, password: password.value, name: name.value })\r\n    }\r\n    return (\r\n            <div className=\"register\">\r\n                <Header />\r\n                <form className=\"form\" onSubmit={handleSubmit}>\r\n                    <p className=\"form__heading\">Добро пожаловать!</p>\r\n                    <input value={name.value} onBlur={e => name.onBlur(e)} onChange={e => name.onChange(e)} className=\"form__input\" required id=\"name\"\r\n                        name=\"name\" placeholder=\"Имя\"\r\n                        type=\"text\" />\r\n                    {(name.isDirty && name.isEmpty) && <span style={{ color: 'red' }}>Обязательное поле</span>}\r\n                    {(name.isDirty && name.minLengthError) && <span style={{ color: 'red' }}>Мало букав</span>}\r\n                    {(name.isDirty && name.maxLengthError) && <span style={{ color: 'red' }}>Многа букав</span>}\r\n                    <input value={email.value} onBlur={e => email.onBlur(e)} onChange={e => email.onChange(e)} className=\"form__input\" required id=\"E-mail\"\r\n                        name=\"E-mail\" placeholder=\"Email\"\r\n                        type=\"email\" />\r\n                    {(email.isDirty && email.isEmpty) && <span style={{ color: 'red' }}>Обязательное поле</span>}\r\n                    {(email.isDirty && email.isEmail) && <span style={{ color: 'red' }}>Введен некорректный email</span>}\r\n                    <input value={password.value} onBlur={e => password.onBlur(e)} onChange={e => password.onChange(e)} className=\"form__input\" required id=\"password\"\r\n                        name=\"password\" placeholder=\"Пароль\" type=\"password\" />\r\n                    {(password.isDirty && password.isEmpty) && <span style={{ color: 'red' }}>Обязательное поле</span>}\r\n                    {(password.isDirty && password.minLengthError) && <span style={{ color: 'red' }}>Мало букав</span>}\r\n                    {(password.isDirty && password.maxLengthError) && <span style={{ color: 'red' }}>Многа букав</span>}\r\n                    <div className=\"register__button-container\">\r\n                        <button disabled={!email.isFormValid || !password.isFormValid || !name.isFormValid} type=\"submit\"\r\n                            className={`${(!email.isFormValid || !password.isFormValid || !name.isFormValid)\r\n                                ? 'form__button_disabled' : 'form__button'}`}>Зарегистрироваться</button>\r\n                    </div>\r\n                </form>\r\n                <div className=\"form__link-container\">\r\n                    <p>Уже зарегистрированы?</p>\r\n                    <Link to=\"/signin\" className=\"form__link\">Войти\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n    )\r\n}\r\nexport default Register;","import { useState } from 'react';\r\nimport { Route } from 'react-router-dom';\r\n\r\nfunction MoviesCard(props) {\r\n    const duration = Number(props.duration);\r\n    const savedIds = props.saved.map((e) => {\r\n        return e.movieId;\r\n    })\r\n    const wasSaved = savedIds.some((e) => {\r\n        return e === props.movie.id;\r\n    });\r\n    const [isSaved, setSavedState] = useState(false);\r\n    \r\n    const handleClick = () => {\r\n        props.onSaveClick({\r\n            country: props.movie.country,\r\n            director: props.movie.director,\r\n            duration: props.movie.duration,\r\n            year: props.movie.year,\r\n            description: props.movie.description,\r\n            image: props.link,\r\n            trailer: props.movie.trailerLink,\r\n            thumbnail: props.link,\r\n            movieId: props.movie.id,\r\n            nameRU: props.movie.nameRU,\r\n            nameEN: props.movie.nameEN,\r\n            owner: props.user._id,\r\n        })\r\n        setSavedState(true);\r\n    }\r\n    const handleDel = () => {\r\n        console.log(props.movie._id);\r\n        props.onDelClick(props.movie._id);\r\n        //props.view.filter(i => i._id !== props.movie._id);\r\n    }\r\n    const handleDelMain = () => {\r\n        const id = props.movie.id;\r\n        const ids = props.saved.filter(i => Object.values(i).find(e => e === id));\r\n        \r\n        props.onDelClick(ids[0]._id);\r\n        \r\n        setSavedState(false);\r\n        //props.view.filter(i => i._id !== props.movie._id);\r\n    }\r\n    return (\r\n        <div className='movie'>\r\n            <a target='_blank' href={props.trailerLink} rel=\"noreferrer\">\r\n                <img className=\"movie__pic\" src={props.link} alt='постер фильма' />\r\n            </a>\r\n            <div className='movie__container'>\r\n                <div className=\"movie__text-container\">\r\n\r\n                    <p className=\"movie__text\">{props.name}</p>\r\n                    <p className='movie__duration'>{duration > 60 ? (Math.floor(duration / 60) + 'ч') + (duration % 60 + 'м') : duration + 'м'}</p>\r\n                </div>\r\n                <div className=\"movie__save-container\">\r\n                    <Route path='/movies'>\r\n                        <button className={`${(isSaved || wasSaved) ? 'movie__save-button_active': 'movie__save-button'}`} type=\"button\" onClick={(isSaved || wasSaved) ? handleDelMain : handleClick }>\r\n                        </button>\r\n                    </Route>\r\n                    <Route path='/saved_movies'>\r\n                        <button className='movie__saved-button' type='button' onClick={handleDel} />\r\n                    </Route>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default MoviesCard;","import MoviesCard from \"../MoviesCard/MoviesCard\";\r\nimport { Route } from \"react-router\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nfunction MoviesCardList(props) {\r\n\r\n\r\n    const [chunk, setChunkSize] = useState([]);\r\n    const [rows, setRows] = useState(0);\r\n    const [columns, setColumns] = useState(0);\r\n    const [isVisible, setVisibility] = useState(false)\r\n    const [width, measureWidth] = useState({ width: window.innerWidth });\r\n    useEffect(() => {\r\n        if (props.view.length !== 0) {\r\n            setVisibility(true)\r\n        }\r\n\r\n        if (width.width > 1280) {\r\n            setRows(1);\r\n            setColumns(4);\r\n            setChunkSize(props.view.slice(props.counter, props.counter + 4));\r\n        }\r\n        if (width.width <= 1280) {\r\n            setRows(2);\r\n            setColumns(3);\r\n            setChunkSize(props.view.slice(props.counter, props.counter + 3));\r\n        }\r\n        if (width.width <= 768) {\r\n            setRows(4);\r\n            setColumns(2);\r\n            setChunkSize(props.view.slice(props.counter, props.counter + 2));\r\n        }\r\n        if (width.width < 635) {\r\n            setRows(5);\r\n            setColumns(1);\r\n            setChunkSize(props.view.slice(props.counter, props.counter + 5));\r\n        }\r\n\r\n        window.addEventListener('resize', checkWindowsWidth)\r\n        return () => {\r\n            window.removeEventListener('resize', checkWindowsWidth)\r\n        }\r\n    }, [props, props.counter, props.view, width]\r\n    )\r\n\r\n    function checkWindowsWidth() {\r\n        measureWidth({ width: window.innerWidth })\r\n    }\r\n    const handleClick = () => {\r\n        console.log(props.view)\r\n        if (width.width > 1280) {\r\n            if (rows * columns < props.view.length) {\r\n                setChunkSize(chunk.concat(props.view.slice(rows * columns, (rows * columns + 4))));\r\n                setRows(rows + 1)\r\n            } else {\r\n                setVisibility(false)\r\n                setChunkSize(props.view)\r\n            }\r\n        } else if (width.width <= 1280 && width.width > 768) {\r\n            if (rows * columns < props.view.length) {\r\n                setChunkSize(chunk.concat(props.view.slice(rows * columns, (rows * columns + 3))));\r\n                setRows(rows + 1)\r\n            } else {\r\n                setVisibility(false)\r\n                setChunkSize(props.view)\r\n            }\r\n        } else if (width.width <= 768 && width.width > 425) {\r\n            if (rows * columns < props.view.length) {\r\n                setChunkSize(chunk.concat(props.view.slice(rows * columns, (rows * columns + 2))));\r\n                setRows(rows + 1)\r\n            } else {\r\n                setVisibility(false)\r\n                setChunkSize(props.view)\r\n            }\r\n        } else if (width.width <= 425) {\r\n            if (rows * columns < props.view.length) {\r\n                setChunkSize(chunk.concat(props.view.slice(rows * columns, (rows * columns + 1))));\r\n                setRows(rows + 1)\r\n            } else {\r\n                setVisibility(false)\r\n                setChunkSize(props.view)\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n    const baseUrl = 'https://api.nomoreparties.co';\r\n    const renderFilms = () => {\r\n\r\n        return ((props.isSubmitted && props.view.length === 0) ? <p className='movies__empty'>Ничего не найдено...</p>\r\n            : chunk.map((movie) => (<MoviesCard saved={props.saved} user={props.user} onDelClick={props.onDelClick} onSaveClick={props.onSaveClick}\r\n                movie={movie} key={movie.id} name={movie.nameRU} duration={movie.duration} trailerLink={movie.trailerLink} link={`${baseUrl + movie.image.url}`} />)))\r\n\r\n    }\r\n    const renderSavedFilms = () => {\r\n\r\n        return ((props.isSubmitted && props.view.length === 0) ? <p className='movies__empty'>Ничего не найдено...</p> :\r\n            props.view.map((movie) => (<MoviesCard user={props.user} saved={props.view} view={props.view} onDelClick={props.onDelClick}\r\n                movie={movie} key={movie._id} name={movie.nameRU} duration={movie.duration} trailerLink={movie.trailer} link={movie.image} />))\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Route exact path='/movies'>\r\n                <section className='movies'>\r\n                    {renderFilms()}\r\n                </section>\r\n                <div className={`${isVisible ? 'more__box' : 'more__box_null'}`}>\r\n                    <button onClick={handleClick} className='more__btn'>Ещё</button>\r\n                </div>\r\n            </Route>\r\n            <Route path='/saved_movies'>\r\n                <section className='movies'>\r\n                    {renderSavedFilms()}\r\n                </section>\r\n            </Route>\r\n\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default MoviesCardList;","import {useEffect, useState} from 'react';\r\nfunction SearchForm(props) {\r\n    const [search, searchInput] = useState('');\r\n    const [isChecked, setCheckbox] = useState(false);\r\n    useEffect(() => {\r\n        const state = localStorage.getItem('checkbxSt');\r\n        if(state){\r\n            setCheckbox(JSON.parse(state))\r\n        }\r\n    }, [])\r\n    const handleChange = (e) => {\r\n        searchInput(e.target.value);\r\n    }\r\n    const handleSubmit = (e) => {\r\n        console.log(props.movies)\r\n        e.preventDefault();\r\n        props.onSearch(props.movies, search);\r\n        props.subm();\r\n        console.log(search);\r\n        \r\n    }\r\n    \r\n    const shortFilmsFilter = () => {\r\n        setCheckbox(!isChecked)\r\n        if(isChecked){\r\n            localStorage.setItem('checkbxSt', JSON.stringify(false));\r\n            props.onSearch(props.movies, search);\r\n        } else{\r\n            localStorage.setItem('checkbxSt', JSON.stringify(true));\r\n            props.shortFilms(props.view);\r\n            props.setIsPressed()\r\n        }   \r\n    }\r\n\r\n    return (\r\n        <div className='searchform__box'>\r\n            <form onSubmit={handleSubmit} className='searchform'>\r\n                <input onChange={handleChange} required placeholder='Фильм' type='search' className='searchform__input'>\r\n                </input>\r\n                <button disabled={search.length === 0} className={`${search.length === 0 ? 'searchform__button_disabled' : 'searchform__button'}`} onClick={props.preloaderState}></button>\r\n            </form>\r\n\r\n\r\n            <input className='searchform__checkbox' id='shortFilm' checked={isChecked} type='checkbox' onClick={shortFilmsFilter} />\r\n            <label className='searchform__label' htmlFor=\"shortFilm\">Короткометражки</label>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchForm;","function Preloader() {\r\n    return (\r\n        <div className=\"preloader\">\r\n            <div className=\"preloader__container\">\r\n                <span className=\"preloader__round\"></span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Preloader;","import Footer from \"../Footer/Footer\"\r\nimport Header from \"../Header/Header\"\r\nimport MoviesCardList from \"../MoviesCardList/MoviesCardList\";\r\nimport SearchForm from \"../SearchForm/SearchForm\";\r\nimport More from \"../More/More\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\nimport { useState, useEffect } from \"react\";\r\nfunction Movies(props) {\r\n    \r\n    return (\r\n        <>\r\n            <Header setIsPressed={props.setIsPressed} subm={props.subm}/>\r\n            <SearchForm setIsPressed={props.setIsPressed} subm={props.subm} preloaderState={props.preloaderState} view={props.view} shortFilms={props.shortFilms} onSearch={props.onSearch} movies={props.movies} />\r\n\r\n            {props.loadState ? <MoviesCardList  setCounter={props.setCounter} counter={props.counter} isSubmitted={props.submSt} saved={props.saved} user={props.user} onDelClick={props.onDelClick} onSaveClick={props.onSaveClick} view={props.view} /> : <Preloader />}\r\n            \r\n            \r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Movies;","import Footer from \"../Footer/Footer\";\r\nimport Header from \"../Header/Header\";\r\nimport MoviesCardList from \"../MoviesCardList/MoviesCardList\";\r\nimport SearchForm from \"../SearchForm/SearchForm\";\r\n\r\nfunction SavedMovies(props) {\r\n    return (\r\n        <>\r\n            <Header setIsPressed={props.setIsPressed} subm={props.subm}/>\r\n            <SearchForm setIsPressed={props.setIsPressed} subm={props.subm} preloaderState={props.preloaderState} view={props.view} shortFilms={props.shortFilms} onSearch={props.onSearch} movies={props.movies}/>\r\n            <MoviesCardList isSubmitted={props.submSt} user={props.user} onDelClick={props.onDelClick} view={props.view} />\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SavedMovies;","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","\r\nimport { Link } from \"react-router-dom\";\r\nimport Header from \"../Header/Header\";\r\nimport React from \"react\";\r\nimport { CurrentUserContext } from '../../contexts/currentUserContext';\r\nfunction Profile(props) {\r\n    const user = React.useContext(CurrentUserContext)\r\n    const [email, emailInput] = React.useState('');\r\n    const [name, nameInput] = React.useState('');\r\n    function handleEmailInput(e) {\r\n        emailInput(e.target.value)\r\n    }\r\n    function handleNameInput(e) {\r\n        nameInput(e.target.value)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdate({ email, name });\r\n    }\r\n    return (\r\n        \r\n            <>\r\n                <Header />\r\n                <section className='profile'>\r\n                    <form className='profile__form' onSubmit={handleSubmit}>\r\n                        <h1 className='profile__head'>\r\n                            Привет, {user.name} !\r\n                        </h1>\r\n\r\n                        <div className='profile__input-container'>\r\n                            <div className='profile__name-input-container'>\r\n                                <span className='profile__span'>\r\n                                    Имя\r\n                                </span>\r\n                                <input required onChange={handleNameInput} className='profile__input' placeholder={user.name} />\r\n                            </div>\r\n                            <div className='profile__email-input-container'>\r\n                                <span className='profile__span'>\r\n                                    Почта\r\n                                </span>\r\n                                <input required onChange={handleEmailInput} className='profile__input' placeholder={user.email} />\r\n                            </div>\r\n                        </div>\r\n                        <div className='profile__bottom-container'>\r\n                            <button disabled={name.length === 0 || email.length === 0} className='profile__update-btn'>\r\n                                Редактировать\r\n                            </button>\r\n\r\n                            <Link className='profile__signout' onClick={props.onSignOut} to='/'>\r\n                                Выйти из аккаунта\r\n                            </Link>\r\n                        </div>\r\n                    </form>\r\n                </section>\r\n            </>\r\n            \r\n                )\r\n}\r\n\r\n                export default Profile;","\r\nexport default class Auth {\r\n\r\n    constructor(options) {\r\n        this.baseUrl = options.baseUrl;\r\n        this.headers = options.headers;\r\n    }\r\n    getUserInfo() {\r\n        return fetch(`${this.baseUrl}/users/me`, {\r\n            method: 'GET',\r\n            headers: this.headers\r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json()\r\n                }\r\n                return Promise.reject(`err : ${res.status}`)\r\n            })\r\n    }\r\n    getSavedMovies(_id) {\r\n        return fetch(`${this.baseUrl}/movies`, {\r\n            method: 'GET',\r\n            headers: this.headers,\r\n            \r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json()\r\n                }\r\n                return Promise.reject(`err : ${res.status}`)\r\n            })\r\n    }\r\n    onLogin({ email, password }) {\r\n        return fetch(`${this.baseUrl}/signin`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ email, password })\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json()\r\n            }\r\n            return Promise.reject(`err : ${res.status}`)\r\n        })\r\n    }\r\n\r\n    onRegister({ email, password, name }) {\r\n        return fetch(`${this.baseUrl}/signup`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ email, password, name })\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n\r\n            }\r\n            return Promise.reject(`err : ${res.status}`)\r\n        })\r\n    }\r\n\r\n    tokenCheck(token) {\r\n\r\n        return fetch(`${this.baseUrl}/users/me`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json()\r\n            }\r\n            return Promise.reject(`err : ${res.status}`)\r\n        })\r\n\r\n    }\r\n\r\n    updateUserInfo(data) {\r\n        return fetch(`${this.baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: data\r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json()\r\n                }\r\n                return Promise.reject(`err : ${res.status}`)\r\n            })\r\n    }\r\n\r\n\r\n    changeMovieStatus(data) {\r\n        return fetch(`${this.baseUrl}/movies`, {\r\n            method: 'POST' ,\r\n            headers: this.headers,\r\n            body: data\r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json()\r\n                }\r\n                return Promise.reject(`err : ${res.status}`)\r\n            })\r\n    }\r\n\r\n    removeLike(_id) {\r\n        return fetch(`${this.baseUrl}/movies/${_id}`, {\r\n            method: 'DELETE',\r\n            headers: this.headers\r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json()\r\n                }\r\n                return Promise.reject(`err : ${res.status}`)\r\n            })\r\n    }\r\n}\r\n\r\n","export class Api {\r\n    constructor(options) {\r\n      this.baseUrl = options.baseUrl;\r\n      this.headers = options.headers;\r\n    }\r\n  \r\n    getAllMovies() {\r\n      return fetch(`https://api.nomoreparties.co/beatfilm-movies`, {\r\n        method: 'GET',\r\n      })\r\n        .then((res) => {\r\n          if (res.ok) {\r\n            return res.json()\r\n          }\r\n          return Promise.reject(`err : ${res.status}`)\r\n        })\r\n    }\r\n  \r\n    \r\n}\r\n  const api = new Api({\r\n    baseUrl: 'https://api.diploma_shvayka.nomoredomains.work',\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"Authorization\": `Bearer ${localStorage.getItem('token')}`\r\n    }\r\n  });\r\n  \r\n  export default api;\r\n  ","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ( { component: Component, ...props } ) => {\r\n    return (\r\n      <Route path='*'>\r\n        {props.loggedIn ? <Component{...props}/> : <Redirect to='/movies'/>}\r\n        \r\n      </Route>\r\n  )}\r\n\r\nexport default ProtectedRoute;","import { useEffect } from \"react\";\r\nimport { Link, useHistory  } from \"react-router-dom\";\r\n\r\nfunction NotFoundPage(props) {\r\n    const history = useHistory();\r\n    const handleBackClick = () => {\r\n        console.log('клик')\r\n        console.log(props.isLoggedIn)\r\n        history.go(-2)\r\n    }\r\n    useEffect(() => {\r\n        console.log(history)\r\n    })\r\n    return (\r\n        <div className=\"not-found\">\r\n            <h3 className=\"not-found__title\">\r\n                404 <br></br><p className='not-found__subtitle'>Страница не найдена</p>\r\n            </h3>\r\n            \r\n            <button className=\"button button_type_to-main\" onClick={handleBackClick}>Назад</button>\r\n        </div>\r\n    )\r\n}\r\nexport default NotFoundPage;","export default __webpack_public_path__ + \"static/media/deleteBtn.82859c1a.svg\";","import close from '../../images/deleteBtn.svg';\r\nfunction Popup(props) {\r\n    return (\r\n        <div className={`${props.isOpen ? 'popup' : 'popup_hidden'}`}>\r\n            <div className='popup__container'>\r\n            <button type=\"button\" \r\n                className=\"popup__close-button register__close-button\"\r\n                onClick={props.setIsOpen} >\r\n                    <img className=\"popup__close-button-image\" src={close} alt=\"Крестик\" />\r\n                </button>\r\n                <p className='popup__text'>{props.isSuccessful ? 'Данные профиля успешно изменены' : 'Попробуйте ещё раз..'}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Popup;","import { Route, Switch, useHistory, useLocation } from 'react-router-dom';\r\nimport Main from '../Main/Main';\r\nimport Login from '../Login/Login';\r\nimport Register from '../Register/Register';\r\nimport React from 'react';\r\nimport Movies from '../Movies/Movies';\r\nimport SavedMovies from '../SavedMovies/SavedMovies';\r\nimport Profile from '../Profile/Profile';\r\nimport { CurrentUserContext } from '../../contexts/currentUserContext';\r\nimport Auth from '../../utils/authApi';\r\nimport MoviesApi from '../../utils/moviesApi';\r\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\r\nimport NotFoundPage from '../404/404';\r\nimport Popup from '../Popup/Popup';\r\nfunction App() {\r\n    const history = useHistory();\r\n    const [currentUser, setCurrentUserInfo] = React.useState({});\r\n    const [moviesBase, setMoviesBase] = React.useState([]);\r\n    const [loggedIn, isLoggedIn] = React.useState(false);\r\n    const [searchResult, setSearchResult] = React.useState([]);\r\n    const [searchSavedResult, setSearchSavedResult] = React.useState([]);\r\n    const [savedMovies, setSavedMovies] = React.useState([]);\r\n    const [isLoading, setIsLoading] = React.useState(true);\r\n    const [isSubmitted, setIsSubmitted] = React.useState(false);\r\n    const [timesPressed, setTimesPressed] = React.useState(0);\r\n    const [isSuccessful, setIsSuccessful] = React.useState(null);\r\n    const [isOpen, setIsOpen] = React.useState(false);\r\n    const [isPressed, setIsPressed] = React.useState(false)\r\n    const location = useLocation();\r\n    const MainApi = new Auth({\r\n        baseUrl: 'https://api.diplomashvayka.nomoredomains.club',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n    });\r\n    const tokenCheck = React.useCallback(\r\n        () => {\r\n            const token = localStorage.getItem('token');\r\n            if (token) {\r\n                MainApi.tokenCheck(token)\r\n                    .then((data) => {\r\n                        if (data) {\r\n                            console.log(data.email);\r\n                            handleLogin();\r\n                            history.push(location.pathname);\r\n                        }\r\n                    }).catch(err => alert(err))\r\n            }\r\n        }, []\r\n    )\r\n    React.useEffect(() => {\r\n        const movies = localStorage.getItem('movies');\r\n        const searchRes = localStorage.getItem('searchRes');\r\n\r\n        const token = localStorage.getItem('token');\r\n        if (token) {\r\n            console.log('check')\r\n            tokenCheck()\r\n\r\n            MainApi.getUserInfo()\r\n                .then(data => {\r\n                    setCurrentUserInfo(data)\r\n                })\r\n                .catch(err => alert(err));\r\n\r\n            if (searchRes) {\r\n                setSearchResult(JSON.parse(searchRes))\r\n            }\r\n            MainApi.getSavedMovies()\r\n                .then((data) => {\r\n                    console.log(data)\r\n                    setSavedMovies(data)\r\n                }).catch(err => alert(err))\r\n\r\n        }\r\n        if (!movies) {\r\n            MoviesApi.getAllMovies()\r\n                .then((data) => {\r\n                    setMoviesBase(data)\r\n                    localStorage.setItem('movies', JSON.stringify(data))\r\n                })\r\n        } else {\r\n            setMoviesBase(JSON.parse(movies))\r\n        }\r\n\r\n    }, [tokenCheck]);\r\n\r\n    const handleSearch = (arr, input) => {\r\n        setSearchResult(() => {\r\n            let searchRes;\r\n            searchRes = moviesBase.filter(movie => Object.values(movie).some(value => typeof value === 'string' && value.toLowerCase().includes(input.toLowerCase())));\r\n            localStorage.setItem('searchRes', JSON.stringify(searchRes))\r\n            return searchRes\r\n        })\r\n        console.log(searchResult)\r\n        setTimesPressed(0)\r\n    }\r\n\r\n    const handleSavedSearch = (arr, input) => {\r\n        setSearchSavedResult(() => {\r\n            let searchRes;\r\n            searchRes = savedMovies.filter(movie => Object.values(movie).some(value => typeof value === 'string' && value.toLowerCase().includes(input.toLowerCase())));\r\n            return searchRes;\r\n        })\r\n        console.log(savedMovies)\r\n    }\r\n\r\n    const handleShortFilmsSearch = (arr) => {\r\n        setSearchResult(() => {\r\n            let searchRes;\r\n            searchRes = moviesBase.filter(i => !(i.duration > 50));\r\n            localStorage.setItem('searchRes', JSON.stringify(searchRes));\r\n            return searchRes;\r\n        }\r\n        )\r\n\r\n    }\r\n    const handleSavedShortFilmsSearch = (arr) => {\r\n        setSearchSavedResult(() => {\r\n            let searchRes;\r\n            searchRes = arr.filter(i => !(i.duration > 50));\r\n            return searchRes;\r\n        }\r\n        )\r\n\r\n    }\r\n    function onRegister({ email, password, name }) {\r\n        MainApi.onRegister({ email, password, name })\r\n            .then((data) => {\r\n                setCurrentUserInfo(data)\r\n                onLogin({ email, password })\r\n                history.push('/movies');\r\n            }).catch((err) => {\r\n                setIsOpen(true)\r\n                setIsSuccessful(false)\r\n            })\r\n    }\r\n\r\n    function onLogin({ email, password }) {\r\n        MainApi.onLogin({ email, password })\r\n            .then((data) => {\r\n                const movies = localStorage.getItem('movies');\r\n                if (!movies) {\r\n                    MoviesApi.getAllMovies()\r\n                        .then((data) => {\r\n                            setMoviesBase(data)\r\n                            localStorage.setItem('movies', JSON.stringify(data))\r\n                        })\r\n                } else {\r\n                    setMoviesBase(JSON.parse(movies))\r\n                }\r\n                localStorage.setItem('token', data.token)\r\n                setCurrentUserInfo(data.user)\r\n                handleLogin();\r\n                history.push('/movies');\r\n            }).catch(err => {\r\n                setIsOpen(true)\r\n                setIsSuccessful(false)\r\n            })\r\n    }\r\n    function handleLogin() {\r\n        isLoggedIn(true);\r\n    };\r\n\r\n\r\n\r\n    function onProfileUpdate(data) {\r\n        MainApi.updateUserInfo(JSON.stringify(data))\r\n            .then((data) => {\r\n                setCurrentUserInfo(data)\r\n                setIsSuccessful(true)\r\n                setIsOpen(true)\r\n            }).catch(err => {\r\n                setIsOpen(true)\r\n                setIsSuccessful(false)\r\n                alert(err)\r\n            })\r\n\r\n    }\r\n    const setPopupVisibility = () => {\r\n        setIsOpen(false);\r\n    }\r\n    function onSaveClick(data) {\r\n        MainApi.changeMovieStatus(JSON.stringify(data))\r\n            .then(data => {\r\n\r\n                savedMovies.push(data)\r\n            }\r\n\r\n            ).catch(err => alert(err))\r\n    }\r\n    function onDelClick(_id) {\r\n        MainApi.removeLike(_id)\r\n            .then(d =>\r\n                setSavedMovies(savedMovies.filter((el) => Object.values(el).every((elem) => elem !== _id)))\r\n            )\r\n            .catch(err => alert(err))\r\n\r\n    }\r\n    function onSignOut() {\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('checkbxSt');\r\n        localStorage.removeItem('searchRes');\r\n        localStorage.removeItem('movies');\r\n\r\n\r\n\r\n        history.push('/signin');\r\n        isLoggedIn(false);\r\n    }\r\n\r\n    const onLoad = () => {\r\n        setIsLoading(isLoading)\r\n    }\r\n\r\n    const onLoadSetTimeout = () => {\r\n        setIsLoading(!isLoading)\r\n        setTimeout(onLoad, 2000)\r\n    }\r\n    const onSearchSubmit = () => {\r\n        setIsSubmitted(!isSubmitted)\r\n    }\r\n    const handleCheckbox = () => {\r\n        setIsPressed(!isPressed)\r\n    }\r\n    return (\r\n        <CurrentUserContext.Provider value={currentUser} >\r\n            <div className='app'>\r\n                <Switch history={history}>\r\n                    <ProtectedRoute setIsPressed={handleCheckbox} setCounter={setTimesPressed} counter={timesPressed} submSt={isSubmitted} subm={onSearchSubmit} preloaderState={onLoadSetTimeout}\r\n                        loadState={isLoading} user={currentUser} movies={moviesBase} onSaveClick={onSaveClick} saved={savedMovies} onDelClick={onDelClick}\r\n                        shortFilms={handleShortFilmsSearch} loggedIn={loggedIn} onSearch={handleSearch} view={searchResult} component={Movies} path='/movies' >\r\n\r\n                    </ProtectedRoute>\r\n                    <ProtectedRoute setIsPressed={handleCheckbox} submSt={isSubmitted} subm={onSearchSubmit} user={currentUser}\r\n                        onSearch={handleSavedSearch} preloaderState={onLoadSetTimeout} loadState={isLoading} loggedIn={loggedIn} shortFilms={handleSavedShortFilmsSearch}\r\n                        onDelClick={onDelClick} view={(isSubmitted || isPressed) ? searchSavedResult : savedMovies} movies={savedMovies} component={SavedMovies} path='/saved_movies'>\r\n\r\n                    </ProtectedRoute>\r\n                    <ProtectedRoute isSuccessful={isSuccessful} onSignOut={onSignOut} loggedIn={loggedIn}\r\n                        user={currentUser} onUpdate={onProfileUpdate} component={Profile} path='/profile'>\r\n\r\n                    </ProtectedRoute>\r\n                    <Route exact path='/'>\r\n                        <Main isLoggedIn={loggedIn} />\r\n                    </Route>\r\n                    <Route path='/signin'>\r\n                        <Login onLogin={onLogin} />\r\n                    </Route>\r\n                    <Route path='/signup'>\r\n                        <Register onRegister={onRegister} />\r\n                    </Route>\r\n                    <Route path='*'>\r\n                        <NotFoundPage isLoggedIn={loggedIn} />\r\n                    </Route>\r\n\r\n                </Switch>\r\n                <Popup isSuccessful={isSuccessful} isOpen={isOpen} setIsOpen={setPopupVisibility} />\r\n            </div>\r\n        </CurrentUserContext.Provider>\r\n    )\r\n}\r\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}